{"version":3,"sources":["components/Page.tsx","pages/Dashboard.tsx","util/http/http-resource.ts","util/http/index.tsx","util/http/category-http.ts","theme.ts","components/Badge.tsx","components/Table/DebouncedTableSearch.js","components/Table/index.tsx","components/Table/FilterResetButton.tsx","store/filter/index.ts","hooks/useFilter.ts","util/vendor/yup.ts","components/loading/LoadingContext.tsx","pages/category/components/Table.tsx","pages/category/CategoryList.tsx","util/http/cast-member-http.ts","util/models.ts","pages/cast-member/components/Table.tsx","pages/cast-member/CastMemberList.tsx","util/http/genre-http.ts","pages/genre/components/Table.tsx","pages/genre/GenreList.tsx","components/SubmitAction.tsx","components/DefaultForm.tsx","pages/category/components/Form.tsx","pages/category/CategoryForm.tsx","pages/genre/components/Form.tsx","pages/genre/GenreForm.tsx","pages/cast-member/components/Form.tsx","pages/cast-member/CastMemberForm.tsx","util/http/video-http.ts","hooks/useDeleteCollection.ts","components/DeleteDialog.tsx","pages/video/components/Table.tsx","pages/video/PageList.tsx","components/Rating.tsx","pages/video/components/Form/RatingField.tsx","components/InputFile.tsx","pages/video/components/Form/UploadField.tsx","hooks/useHttpHandled.ts","components/AsyncAutocomplete.tsx","components/GridSelected.tsx","components/GridSelectedItem.tsx","hooks/useCollectionManager.ts","util/model-filter.ts","pages/video/components/Form/GenreField.tsx","pages/video/components/Form/CategoryField.tsx","pages/video/components/Form/CastMemberField.tsx","store/upload/getters.ts","components/UploadProgress.tsx","store/upload/index.ts","components/SnackbarUpload/UploadAction.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","hooks/useSnackbarFormError.ts","pages/video/components/Form/index.tsx","pages/video/PageForm.tsx","pages/uploads/UploadAction.tsx","pages/uploads/UploadItem.tsx","pages/uploads/index.tsx","routes/index.tsx","components/Navbar/Menu.tsx","components/Navbar/index.tsx","static/img/logo.png","routes/AppRouter.tsx","components/Breadcrumbs.tsx","components/SnackbarProvider.tsx","components/loading/LoadingProvider.tsx","components/Spinner.tsx","App.tsx","reportWebVitals.ts","store/upload/saga.ts","store/root-saga.ts","store/index.ts","index.tsx"],"names":["useStyles","makeStyles","title","color","Page","props","classes","Container","Typography","className","component","variant","Box","paddingTop","children","Dashboard","HttpResource","http","resource","cancelList","options","this","cancel","axios","CancelToken","source","config","cancelToken","token","queryParam","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","queryParams","error","isCancel","serialize","booleansAsIntegers","Object","values","filter","el","File","length","httpVideo","create","baseURL","process","instaces","categoryHttp","palette","primary","main","contrastText","secondary","dark","background","default","success","green","red","theme","createMuiTheme","overrides","MUIDataTable","paper","boxShadow","MUIDataTableToolbar","root","minHeight","backgroundColor","icon","iconActive","MUIDataTableHeadCell","fixedHeader","paddingBottom","sortActive","sortAction","alignItems","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","iconButton","MUIDataTableBodyRow","MUIDataTablePagination","localTheme","BadgeYes","Chip","label","BadgeNo","display","flex","searchIcon","text","marginTop","marginRight","searchText","clearIcon","name","DebouncedTableSearch","onSearch","onHide","debouceTime","useState","setText","value","dispatchOnSearch","useCallback","debounce","useEffect","undefined","e","Grow","appear","in","timeout","TextField","autoFocus","InputProps","textLabels","toolbar","search","inputProps","onKeyDown","event","key","onChange","target","fullWidth","placeholder","searchPlaceholder","searchProps","IconButton","onClick","Table","debauncedSearchTime","columns","defaultOptions","debouncedSearchTime","print","download","responsive","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","cloneDeep","useTheme","newProps","merge","forEach","width","setColumnsWithColumns","map","column","omit","loading","applyLoading","makeActionStyles","copyTheme","selector","FilterResetButton","Tooltip","handleClick","ClearAll","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","total","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","state","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","useFilter","history","useHistory","filterManager","FilterManager","getStateFromURL","useReducer","filterState","dispatch","totalRecords","setTotalRecords","useDebounce","debounceTime","debouncedFilterState","replaceHistory","setLocale","mixed","required","notType","string","max","number","min","schema","rowsPerPageOptions","createValidationSchema","perPage","changedColumn","direction","cast","update","newText","replace","pathname","location","URLSearchParams","formatSearchParams","newLocation","clearSearchText","oldState","nextState","isEqual","push","substr","yup","shape","transform","isNaN","parseInt","oneOf","nullable","includes","toLowerCase","LoadingContext","createContext","columnsDefinition","customBodyRender","tableMeta","updateValue","filterOptions","names","format","parseISO","Link","to","rowData","Edit","snackbar","useSnackbar","subscribed","useRef","setData","useContext","a","list","current","meta","console","isCancelledRequest","enqueueSnackbar","pushHistory","getData","serverSide","count","customToolbar","resetFilter","onSearchChange","changeSearch","onChangePage","changePage","onChangeRowsPerPage","changeRowsPerPage","onColumnSortChange","changeColumnSort","CategoryList","Fab","size","castMemberHttp","CastMemberTypeMap","1","2","VideoFileFieldsMap","castMemberNames","setLoading","type","debouncedState","indexColumnType","findIndex","c","columnType","typeFilterValue","filterList","serverSideFilterList","invert","JSON","stringify","onFilterChange","columnIndex","changeExtraFilter","CastMemberList","genreHttp","filterType","join","categories","split","indexColumnCategories","columnCategories","categoriesFilterValue","isSubscribed","category","GenreList","submit","margin","spacing","SubmitAction","buttonProps","disabled","disabledButtons","Button","handleSalve","defaultProps","gridItem","padding","DefaultForm","GridContainerProps","GridItemProps","other","Grid","container","item","SchemaValidation","Form","useParams","setCategory","useForm","resolver","yupResolver","defaultValues","is_active","register","handleSubmit","getValues","setValue","errors","watch","trigger","onSubmit","formData","setTimeout","log","getCategory","inputRef","helperText","message","InputLabelProps","shrink","multiline","rows","FormControlLabel","control","Checkbox","checked","then","valid","CategoryForm","categories_id","setCategories","genre","setGenre","promise","Promise","categoriesResponse","genteResponse","select","shouldValidate","SelectProps","multiple","MenuItem","GenreForm","castMember","setcastMember","getCastMember","FormControl","FormLabel","RadioGroup","Radio","FormHelperText","videoHttp","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","confirmed","ids","index","deleteCollection","response","catch","onRowsDelete","rowsDeleted","PageList","height","fontSize","borderRadius","justifyContent","backgroundColors","Rating","style","rating","ratings","labelPlacement","RatingField","FormControlProps","row","InputFile","React","forwardRef","ref","fileRef","filename","setFilename","textFieldProps","TextFieldProps","readOnly","endAdornment","InputAdornment","position","ButtonFile","inputFileProps","InputFileProps","hidden","files","Array","from","file","useImperativeHandle","openWindow","click","clear","UploadField","accept","endIcon","CloudUpload","useHttpHandled","request","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","setOpen","setSearchText","setOptions","debouncedSearchText","autocompleteProps","loadingText","noOptionsText","inputValue","onInputChange","renderInput","CircularProgress","Autocomplete","createStyles","GridSelected","wrap","GridSelectedItem","onDelete","xs","md","useCollectionManager","collection","setCollection","addItem","find","i","unshift","removeItem","splice","getGenresFromCategory","genres","cat","GenreField","autocompetleRef","setGenres","removeCategory","autocompleteHttp","clearOnEscape","getOptionSelected","option","getOptionLabel","genresFromCategory","noWrap","genresSubtitle","grey","CategoryField","autocompleteRef","CastMemberField","castMembers","setCastMembers","isFinished","obj","progress","hasError","isUploadType","some","progressContainer","left","progressBackground","UploadProgress","uploadOrFile","Fade","enter","exit","addUpload","removeUpload","updateProgress","setUploadError","uploads","ADD_UPLOAD","findIndexUpload","video","$splice","fileField","REMOVE_UPLOAD","upload","UPDATE_PROGRESS","videoId","findIndexUploadAndFile","indexFile","indexUpload","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum","successIcon","errorIcon","UploadAction","hover","useDispatch","show","setShow","debouncedShow","ListItemSecondaryAction","edge","listItem","movieIcon","minWidth","listItemText","marginLeft","UploadItem","itemHover","setItemHover","disableFocusListener","disableHoverListener","placement","ListItem","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","Divider","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","duration","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","useSelector","totalInProgress","countInProgress","Card","CardActions","classnames","Collapse","List","UseSnackbarFormError","submitCount","keys","cardUpload","description","year_launched","test","every","v","parent","fileFields","cast_members","opened","formState","setVideo","isGreaterMd","useMediaQuery","breakpoints","up","castMemberRef","genreRef","categoryRef","uploadsRef","zipObject","createRef","cast_member","uploadFiles","resetForm","field","persist","anchorOrigin","horizontal","vertical","content","useSnackBarFormError","CardContent","PageForm","divider","activeActions","orientation","gridTitle","justify","panelSummary","expandedIcon","routes","path","exact","CastMemberForm","VideoList","VideoForm","elevation","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","dense","listRoutes","menuRoutes","route","Menu","anchorEl","setAnchorEl","Boolean","aria-controls","aria-label","aria-haspopup","currentTarget","transformOrigin","getContentAnchorEl","routeName","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","breadcrumbNameMap","linkRoute","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","last","slice","RouteParser","match","makeBreadcrumb","SnackbarProvider","snackbarProviderRef","autoHideDuration","preventDuplicate","maxSnack","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevState","useMemo","requestIds","onFuldilled","onReject","interceptors","use","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","addGlobalResponseInterceptor","reject","eject","removeGlobalResponseInterceptor","Provider","makeLocalTheme","Spinner","LinearProgress","zIndex","App","CssBaseline","basename","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","uploadWatcherSaga","uploadFile","actionChannel","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","eventChannel","emitter","partialUpdate","_method","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","devTools","window","__REDUX_DEVTOOLS_EXTENSION__","sagaMiddleware","createSagaMiddleware","combineReducers","store","applyMiddleware","createStore","run","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e050ed02.chunk.js","sourcesContent":["import React from 'react';\nimport {Box, Container, makeStyles, Typography} from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n    title:{\n        color: '#999999'\n    }\n})\n\ntype PageProps = {\n    title: string\n};\nexport const Page: React.FC<PageProps> = (props) => {\n    const classes = useStyles();\n    return (\n       <Container>\n           <Typography\n               className={classes.title}\n               component=\"h1\"\n               variant=\"h5\"\n           >\n               {props.title}\n           </Typography>\n           <Box paddingTop={1}>\n               {props.children}\n           </Box>\n       </Container>\n    );\n};","import React from 'react';\nimport {Page} from \"../components/Page\";\n\n\ntype DashboardProps = {\n\n};\nconst Dashboard = (props: DashboardProps) => {\n    return (\n    <Page title=\"Dashboard\"/>\n    );\n};\n\nexport default Dashboard;","import axios,{\n    AxiosInstance,\n    AxiosResponse,\n    AxiosRequestConfig,\n    CancelTokenSource\n} from 'axios';\nimport {serialize} from \"object-to-formdata\";\n\n\nexport default class HttpResource{\n\n    private cancelList: CancelTokenSource | null = null;\n\n    constructor(private http: AxiosInstance, protected resource) {\n    }\n\n    list<T = any>(options?: {queryParam?}): Promise<AxiosResponse<T>>\n    {\n        if(this.cancelList){\n            this.cancelList.cancel('list cancelled');\n        }\n        this.cancelList = axios.CancelToken.source();\n        const config: AxiosRequestConfig = {\n            cancelToken: this.cancelList.token\n        };\n        if(options && options.queryParam){\n            config.params = options.queryParam;\n        }\n        return this.http.get<T>(this.resource,config)\n    }\n\n    get<T = any>(id: any): Promise<AxiosResponse<T>>\n    {\n        return this.http.get<T>(`${this.resource}/${id}`);\n    }\n\n    create<T = any>(data): Promise<AxiosResponse<T>>\n    {\n        let sendData = this.makeSendData(data);\n        return this.http.post<T>(this.resource, sendData);\n\n    }\n\n    update<T = any>(id, data, options?: { http?: { usePost: boolean}, config? : AxiosRequestConfig}): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        // Quando o objeto tiver a possibilidade de ser vazio\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n    partialUpdate<T = any>(id, data, options?: { http?: { usePost: boolean}, config? : AxiosRequestConfig}): Promise<AxiosResponse<T>> {\n        let sendData = data;\n        if (this.containsFile(data)) {\n            sendData = this.getFormData(data);\n        }\n        // Quando o objeto tiver a possibilidade de ser vazio\n        const {http, config} = (options || {}) as any;\n        return !options || !http || !http.usePost\n            ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n            : this.http.post<T>(`${this.resource}/${id}`, sendData, config)\n    }\n\n\n    delete<T = any>(id): Promise<AxiosResponse<T>>\n    {\n        return this.http.delete<T>(`${this.resource}/${id}`);\n    }\n\n    deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n        const config:AxiosRequestConfig = {};\n        if (queryParams) {\n            config['params'] = queryParams;\n        }\n        return this.http.delete<T>(`${this.resource}`, config)\n    }\n\n    isCancelledRequest(error){\n        return axios.isCancel(error)\n    }\n    private makeSendData(data) {\n        return this.containsFile(data) ? this.getFormData(data) : data;\n    }\n\n    private getFormData(data) {\n        // const formData = new FormData();\n        // Object\n        //     .keys(data)\n        //     .forEach(key => {\n        //         let value = data[key];\n        //         if (typeof value === \"undefined\") {\n        //             return;\n        //         }\n        //         if (typeof value === \"boolean\") {\n        //             value = value ? 1 : 0;\n        //         }\n        //         if(value instanceof Array){\n        //             value.forEach(v => formData.append(`${key}[]`, v))\n        //             return;\n        //         }\n        //         formData.append(key, value)\n        //     });\n        return serialize(data,{booleansAsIntegers: true} );\n    }\n\n\n    private containsFile(data) {\n        return Object\n            .values(data)\n            .filter(el => el instanceof File).length !== 0\n    }\n\n\n\n}\n\n\n\n","import axios, {AxiosRequestConfig, AxiosResponse} from 'axios'\nconst httpVideo = axios.create({\n    baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL\n})\n\n\nconst instaces = [httpVideo];\n\nexport function addGlobalRequestInterceptor(\n    onFuldilled? : (value: AxiosRequestConfig) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\n    onReject?: (error: any) => any\n){\n    const ids: number[] = [];\n    for(let i of instaces){\n        const id = i.interceptors.request.use(onFuldilled,onReject);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]){\n    ids.forEach(\n        (id,index) => instaces[index].interceptors.request.eject(id)\n    )\n}\n\nexport function addGlobalResponseInterceptor(\n    onFuldilled? : (value: AxiosResponse) => AxiosResponse | Promise<AxiosResponse>,\n    onReject?: (error: any) => any\n){\n    const ids: number[] = [];\n    for(let i of instaces){\n        const id = i.interceptors.response.use(onFuldilled,onReject);\n        ids.push(id);\n    }\n    return ids;\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]){\n    ids.forEach(\n        (id,index) => instaces[index].interceptors.response.eject(id)\n    )\n}\n\n\n\nexport default httpVideo;","import HttpResource from \"./http-resource\";\nimport httpVideo from \"./index\";\n\nconst categoryHttp = new HttpResource(httpVideo,'categories');\n\nexport default categoryHttp;","import {createMuiTheme} from '@material-ui/core';\nimport {PaletteOptions,SimplePaletteColorOptions} from \"@material-ui/core/styles/createPalette\";\nimport {green, red} from \"@material-ui/core/colors\";\n\nconst palette: PaletteOptions = {\n    primary: {\n        main: '#79aec8',\n        contrastText: '#fff'\n    },\n    secondary: {\n        main: '#4db5ab',\n        contrastText: '#fff',\n        dark: '#055a52'\n    },\n    background: {\n        default: '#fafafa'\n    },\n    success:{\n        main: green[\"500\"],\n        contrastText: '#fff'\n    },\n    error: {\n        main: red[\"500\"]\n    }\n}\n\nconst theme = createMuiTheme({\n    palette,\n    overrides:{\n        MUIDataTable: {\n            paper: {\n                boxShadow: 'none'\n            }\n        },\n        MUIDataTableToolbar:{\n            root: {\n                minHeight: '58px',\n                backgroundColor: palette.background?.default\n            },\n            icon:{\n                color: (palette!.primary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &.focus':{\n                    color: (palette!.primary as SimplePaletteColorOptions).dark,\n                }\n            },\n            iconActive: {\n                color: (palette!.primary as SimplePaletteColorOptions).dark,\n                '&:hover, &:active, &.focus':{\n                    color: (palette!.primary as SimplePaletteColorOptions).dark,\n                }\n            }\n        },\n        MUIDataTableHeadCell:{\n            fixedHeader:{\n                paddingTop: 8,\n                paddingBottom: 8,\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                color: '#ffffff',\n                '&[aria-sort]':{\n                    backgroundColor: '#459ac4'\n                }\n            },\n            sortActive:{\n                color: '#ffffff'\n            },\n            sortAction:{\n                alignItems: 'center'\n            },\n            sortLabelRoot:{\n                '& svg':{\n                    color: '#ffffff !important'\n                }\n            }\n        },\n        MUIDataTableSelectCell:{\n            headerCell:{\n                backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n                '& span':{\n                    color: '#fff !important'\n                }\n            }\n        },\n        MUIDataTableBodyCell:{\n            root:{\n                color: (palette!.secondary as SimplePaletteColorOptions).main,\n                '&:hover, &:active, &:focus':{\n                    color: (palette!.secondary as SimplePaletteColorOptions).main,\n                }\n            }\n        },\n        MUIDataTableToolbarSelect:{\n            title:{\n                color: (palette!.primary as SimplePaletteColorOptions).main\n            },\n            iconButton:{\n                color: (palette!.primary as SimplePaletteColorOptions).main\n            }\n        },\n        MUIDataTableBodyRow:{\n            root:{\n                '&:nth-child(odd)':{\n                    backgroundColor: palette!.background!.default\n                }\n            }\n        },\n        MUIDataTablePagination:{\n            root:{\n                color: (palette!.primary as SimplePaletteColorOptions).main\n            }\n        },\n\n    }\n})\n\nexport default theme;\n","import * as React from 'react';\nimport {Chip, createMuiTheme, MuiThemeProvider} from \"@material-ui/core\";\nimport theme from \"../theme\";\n\nconst localTheme = createMuiTheme(\n    {\n        palette:{\n            primary: theme.palette.success,\n            secondary: theme.palette.error\n        }\n    }\n)\n\nexport const BadgeYes = () => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label={'Sim'} color={\"primary\"}/>\n        </MuiThemeProvider>\n    );\n};\n\nexport const BadgeNo = () => {\n    return (\n        <MuiThemeProvider theme={localTheme}>\n            <Chip label={'Não'} color={\"secondary\"}/>\n        </MuiThemeProvider>\n    );\n};","import React, {useCallback, useEffect, useState} from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {debounce} from 'lodash';\n\n\nconst useStyles = makeStyles(\n    theme => ({\n        main: {\n            display: 'flex',\n            flex: '1 0 auto',\n        },\n        searchIcon: {\n            color: theme.palette.text.secondary,\n            marginTop: '10px',\n            marginRight: '8px',\n        },\n        searchText: {\n            flex: '0.8 0',\n        },\n        clearIcon: {\n            '&:hover': {\n                color: theme.palette.error.main,\n            },\n        },\n    }),\n    { name: 'MUIDataTableSearch' },\n);\n\nconst DebouncedTableSearch = ({ options, searchText, onSearch, onHide, debouceTime }) => {\n    const classes = useStyles();\n    const [text, setText] = useState(searchText);\n    let value = text;\n\n    const dispatchOnSearch = useCallback(debounce(value => onSearch(value),debouceTime),[]);\n\n    useEffect(() => {\n        dispatchOnSearch(text);\n    },[text,dispatchOnSearch])\n\n    useEffect(() => {\n        if(searchText && searchText.value !== undefined)\n        {\n            const value = searchText.value;\n            if(value){\n                onSearch(value);\n            }else{\n                try{\n                    onHide();\n                }catch (e){\n\n                }\n            }\n        }\n    },[searchText, onSearch])\n\n\n    const handleTextChange = event => {\n        const value = event.target.value;\n        setText(value);\n    };\n\n    const onKeyDown = event => {\n        if (event.key === 'Escape') {\n            onHide();\n        }\n    };\n\n    return (\n        <Grow appear in={true} timeout={300}>\n            <div className={classes.main}>\n                <SearchIcon className={classes.searchIcon} />\n                <TextField\n                    className={classes.searchText}\n                    autoFocus={true}\n                    InputProps={{\n                        'data-test-id': options.textLabels.toolbar.search,\n                    }}\n                    inputProps={{\n                        'aria-label': options.textLabels.toolbar.search,\n                    }}\n                    value={value || ''}\n                    onKeyDown={onKeyDown}\n                    onChange={handleTextChange}\n                    fullWidth={true}\n                    placeholder={options.searchPlaceholder}\n                    {...(options.searchProps ? options.searchProps : {})}\n                />\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon />\n                </IconButton>\n            </div>\n        </Grow>\n    );\n};\n\nexport default DebouncedTableSearch;\n","import * as React from 'react';\nimport MUIDataTable, {MUIDataTableColumn, MUIDataTableOptions, MUIDataTableProps} from \"mui-datatables\";\nimport {merge,omit, cloneDeep} from 'lodash';\nimport {useTheme, Theme, MuiThemeProvider} from \"@material-ui/core\";\nimport DebouncedTableSearch from \"./DebouncedTableSearch\";\n\n\n\nexport interface TableColumn extends MUIDataTableColumn{\n    width?: string\n}\n\nexport interface MuiDataTableRefComponent{\n    changePage: (page: number) => void;\n    changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\n\nconst makeDefaultOptions = (debauncedSearchTime?): MUIDataTableOptions => ({\n    print: false,\n    download: false,\n    responsive: 'simple',\n    textLabels: {\n        body: {\n            noMatch: 'Nenhum registro encontrado',\n            toolTip: 'Classificar'\n        },\n        pagination: {\n            next: 'Próximo',\n            previous: 'Anterior',\n            rowsPerPage: 'Por página',\n            displayRows: 'de'\n        },\n        toolbar: {\n            search: 'Busca',\n            downloadCsv: 'Download CSV',\n            print: 'Imprimir',\n            viewColumns: 'Ver Colunas',\n            filterTable: 'Filtrar tabela'\n        },\n        filter: {\n            all: 'Todos',\n            title: 'Filtros',\n            reset: 'Limpar'\n        },\n        viewColumns: {\n            title: 'Ver Colunas',\n            titleAria: 'Ver/Esconder'\n        },\n        selectedRows: {\n            delete: 'Excluir',\n            deleteAria: 'Excluir registros selecionados',\n            text: 'registro(s) selecionados'\n        }\n    },\n    customSearchRender: (\n        searchText: string,\n        handleSearch: any,\n        hideSearch: any,\n        options: any\n    ) => {\n        return <DebouncedTableSearch\n            searchText={searchText}\n            onSearch={handleSearch}\n            onHide={hideSearch}\n            options={options}\n            debouceTime={debauncedSearchTime}\n        />\n    }\n})\n\ninterface TableProps extends MUIDataTableProps{\n    columns: TableColumn[];\n    loading?: boolean;\n    debouncedSearchTime?: number;\n\n}\n\n\nconst Table: React.FC<TableProps> = (props) => {\n\n    function extractMuiDataTableColumns(columns: TableColumn[]): Pick<TableColumn, never>[]{\n        setColumnsWithColumns(columns);\n        return columns.map(column => omit(column, 'width'));\n    }\n\n    function setColumnsWithColumns(columns: TableColumn[]){\n        columns.forEach((columns,key) => {\n            if(columns.width){\n                const overrides = theme.overrides as any;\n                overrides.MUIDataTableHeadCell.fixedHeader[`&:nth-child(${key +2})`] = {\n                    width: columns.width\n                }\n            }\n        })\n    }\n\n\n    function getOriginalMuiDataTableProps(){\n        return omit(newProps,'loading');\n    }\n\n    function applyLoading(){\n        const textLabels = (newProps.options as any).textLabels;\n        textLabels.body.noMatch = newProps.loading === true\n        ? 'Carregando...' : textLabels.body.noMatch\n    }\n\n    const defaultOptions = makeDefaultOptions(props.debouncedSearchTime)\n    const theme = cloneDeep<Theme>(useTheme());\n    const newProps = merge(\n        {options: cloneDeep(defaultOptions)},\n        props,\n        {columns: extractMuiDataTableColumns(props.columns)}\n    );\n\n    applyLoading();\n    getOriginalMuiDataTableProps();\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <MUIDataTable {...newProps}/>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;\n\nexport function makeActionStyles(column){\n    return theme => {\n        const copyTheme = cloneDeep(theme);\n        const selector = `&[data-testid^=\"MuiDataTableBodyCell-${column}\"]`;\n        (copyTheme.overrides as any).MUIDataTableBodyCell.root[selector] = {\n            paddingTop: '0px',\n            paddingBottom: '0px'\n        }\n        return copyTheme;\n    }\n}","import React from 'react';\nimport {IconButton, Tooltip} from \"@material-ui/core\";\nimport {ClearAll} from \"@material-ui/icons\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\n\nconst useStyles = makeStyles(theme => ({\n    iconButton: (theme as any).overrides.MUIDataTableToolbar.icon\n}))\n\ninterface FilterResetButtonProps {\n    handleClick: () => void\n}\n\nconst FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Tooltip title={'Limpar Busca'}>\n            <IconButton className={classes.iconButton} onClick={props.handleClick}>\n                <ClearAll/>\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default FilterResetButton;","import * as Typings from './types';\nimport {createActions, createReducer} from 'reduxsauce';\nimport {SetResetAction, UpdateExtraFilterAction} from \"./types\";\n\nexport const {Types, Creators} = createActions<{\n    SET_SEARCH: string,\n    SET_PAGE: string,\n    SET_PER_PAGE: string,\n    SET_ORDER: string,\n    SET_RESET: string,\n    UPDATE_EXTRA_FILTER: string\n},{\n    setSearch(payload: Typings.SetSearchAction['payload']): Typings.SetSearchAction\n    setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction\n    setPerPage(payload: Typings.SetPerPageAction['payload']): Typings.SetPerPageAction\n    setOrder(payload: Typings.SetOrderAction['payload']): Typings.SetOrderAction,\n    setReset(payload: Typings.SetResetAction['payload']): Typings.SetResetAction,\n    updateExtraFilter(payload: Typings.UpdateExtraFilterAction['payload']): Typings.UpdateExtraFilterAction\n}>({\n    setSearch: ['payload'],\n    setPage: ['payload'],\n    setPerPage: ['payload'],\n    setOrder: ['payload'],\n    setReset:['payload'],\n    updateExtraFilter: ['payload']\n})\n\nexport const INITIAL_STATE: Typings.State = {\n    search: null,\n    pagination: {\n        page: 1,\n        total: 0,\n        per_page: 10\n    },\n    order: {\n        sort: null,\n        dir: null\n    }\n}\n\nconst reducer = createReducer<Typings.State, Typings.Action>(INITIAL_STATE,{\n    [Types.SET_SEARCH]: setSearch,\n    [Types.SET_PAGE]: setPage,\n    [Types.SET_PER_PAGE]: setPerPage,\n    [Types.SET_ORDER]: setOrder,\n    [Types.SET_RESET]: setReset,\n    [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter,\n\n})\n\nexport default reducer;\n\nfunction setSearch(state = INITIAL_STATE, action: Typings.SetSearchAction): Typings.State{\n    return{\n        ...state,\n        search: action.payload.search,\n        pagination:{\n            ...state.pagination,\n            page: 1\n        }\n    }\n}\n\nfunction setPage(state = INITIAL_STATE, action: Typings.SetPageAction): Typings.State{\n    return{\n        ...state,\n        pagination:{\n            ...state.pagination,\n            page: action.payload.page\n        }\n    }\n}\n\nfunction setPerPage(state = INITIAL_STATE, action: Typings.SetPerPageAction): Typings.State{\n    return{\n        ...state,\n        pagination:{\n            ...state.pagination,\n            per_page: action.payload.per_page\n        }\n    }\n}\n\nfunction setOrder(state = INITIAL_STATE, action: Typings.SetOrderAction): Typings.State{\n    return{\n        ...state,\n        order: {\n            sort: action.payload.sort,\n            dir: action.payload.dir\n        }\n    }\n}\n\nfunction setReset(state = INITIAL_STATE, action: SetResetAction){\n    return action.payload.state\n}\n\nfunction updateExtraFilter(state = INITIAL_STATE, action: UpdateExtraFilterAction){\n    return {\n        ...state,\n        extraFilter:{\n            ...state.extraFilter,\n            ...action.payload\n        }\n    }\n}\n\n\n\n\n\n"," import {Dispatch, Reducer, useEffect, useReducer, useState} from \"react\";\nimport reducer, {Creators} from \"../store/filter\";\nimport {MUIDataTableColumn} from \"mui-datatables\";\nimport {State as FilterState, Action as FilterActions} from \"../store/filter/types\";\nimport {useDebounce} from \"use-debounce\";\nimport {useHistory} from 'react-router';\nimport {History} from 'history';\nimport {isEqual } from 'lodash';\nimport * as yup from '../util/vendor/yup';\n\ninterface FilterManageOptions{\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    rowsPerPageOptions: number[];\n    debounceTime: number;\n    history: History;\n    extraFilter?: ExtraFilter;\n}\n\ninterface ExtraFilter{\n    getStateFromURL: (queryParams: URLSearchParams) => any,\n    formatSearchParams: (debouncedState: FilterState) => any,\n    createValidationSchema: () => any\n}\n\ninterface UseFilterOptions extends Omit<FilterManageOptions,'history'>{\n\n}\n\nexport default function useFilter(options: UseFilterOptions){\n    const history = useHistory();\n    const filterManager = new FilterManager({...options, history});\n    const INITIAL_STATE = filterManager.getStateFromURL();\n    const [filterState, dispatch] = useReducer<Reducer<FilterState, FilterActions>>(reducer,INITIAL_STATE);\n    const [totalRecords, setTotalRecords] = useState<number>(0);\n    const [debouncedFilterState] = useDebounce(filterState,options.debounceTime);\n\n\n    useEffect(() => {\n        filterManager.replaceHistory();\n    },[filterManager])\n\n\n    filterManager.state = filterState;\n    filterManager.dispatch = dispatch;\n    return{\n        columns: filterManager.columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        dispatch,\n        totalRecords,\n        setTotalRecords\n    }\n}\n\nexport class FilterManager{\n\n    schema;\n    state: FilterState = null as any;\n    dispatch: Dispatch<FilterActions> = null as any;\n    columns: MUIDataTableColumn[];\n    rowsPerPage: number;\n    rowsPerPageOptions: number[];\n    history: History;\n    extraFilter?: ExtraFilter;\n\n\n    constructor(options: FilterManageOptions) {\n        const {columns, rowsPerPage, rowsPerPageOptions, history, extraFilter} = options;\n        this.columns = columns;\n        this.rowsPerPage = rowsPerPage;\n        this.rowsPerPageOptions = rowsPerPageOptions;\n        this.history = history;\n        this.extraFilter = extraFilter;\n        this.createValidationSchema();\n    }\n\n    changeSearch(value){\n        this.dispatch(Creators.setSearch({search: value}));\n    }\n\n    changePage(page){\n        this.dispatch(Creators.setPage({page: page + 1}));\n    }\n\n    changeRowsPerPage(perPage){\n        this.dispatch(Creators.setPerPage({per_page: perPage}))\n    }\n\n    changeColumnSort(changedColumn: string, direction: string){\n        this.dispatch(Creators.setOrder({\n            dir: direction,\n            sort: changedColumn\n        }))\n    }\n\n    changeExtraFilter(data) { //{type: 'Diretor'}\n        this.dispatch(Creators.updateExtraFilter(data));\n    }\n\n\n    resetFilter(){\n        const INITIAL_STATE = {\n            ...this.schema.cast({}),\n            search: {value: null, update: true}\n        };\n        this.dispatch(Creators.setReset({\n            state: INITIAL_STATE\n        }));\n    }\n\n\n    clearSearchText(text){\n        let newText = text;\n        if(text && text.value !== undefined){\n            newText = text.value;\n        }\n        return newText;\n    }\n\n    replaceHistory(){\n        this.history.replace({\n            pathname: this.history.location.pathname,\n            search: \"?\" + new URLSearchParams(this.formatSearchParams() as any),\n            state: this.state\n        })\n    }\n\n    pushHistory(){\n        const newLocation = {\n            pathname: this.history.location.pathname,\n            search: \"?\" + new URLSearchParams(this.formatSearchParams() as any),\n            state:{\n                ...this.state,\n                search: this.clearSearchText(this.state.search)\n            }\n        }\n        const oldState = this.history.location.state;\n        const nextState = this.state;\n        if(isEqual(oldState, nextState)){\n            return;\n        }\n\n        this.history.push(newLocation);\n    }\n\n    private formatSearchParams(){\n       const search = this.clearSearchText(this.state.search);\n       return {\n           ...(search && search !== '' && {search: search}),\n           ...(this.state.pagination.page !== 1 && {page: this.state.pagination.page}),\n           ...(this.state.pagination.per_page !== 15 && {per_page: this.state.pagination.per_page}),\n           ...(this.state.order.sort && {\n               sort: this.state.order.sort,\n               dir: this.state.order.dir\n           }),\n           ...(this.extraFilter && this.extraFilter.formatSearchParams(this.state))\n       }\n    }\n\n    getStateFromURL(){\n        const queryParams = new URLSearchParams(this.history.location.search.substr(1));\n        return this.schema.cast({\n            search: queryParams.get('search'),\n            pagination: {\n                page: queryParams.get('page'),\n                per_page: queryParams.get('per_page')\n            },\n            order:{\n                sort: queryParams.get('sort'),\n                dir: queryParams.get('dir')\n            },\n            ...(\n                this.extraFilter && {\n                    extraFilter: this.extraFilter.getStateFromURL(queryParams)\n                }\n            )\n        })\n    }\n\n    private createValidationSchema(){\n        this.schema = yup.object().shape({\n            search: yup.string()\n                .transform(value => !value ? undefined : value)\n                .default(''),\n            pagination: yup.object().shape({\n                page: yup.number()\n                    .transform(value => isNaN(value) || parseInt(value) < 1 ? undefined : value)\n                    .default(1),\n                per_page: yup.number()\n                    .oneOf(this.rowsPerPageOptions)\n                    .transform(value => isNaN(value) ? undefined : value)\n                    .default(this.rowsPerPage)\n            }),\n            order: yup.object().shape({\n                sort: yup.string()\n                    .nullable()\n                    .transform(value => {\n                        const columnsName = this.columns\n                            .filter(column => !column.options || column.options.sort !== false)\n                            .map(column => column.name);\n                        return columnsName.includes(value) ? value : undefined;\n                    })\n                    .default(null),\n                dir: yup.string()\n                    .nullable()\n                    .transform(value => !value || !['asc','desc'].includes(value.toLowerCase()) ? undefined : value)\n                    .default(null)\n            }),\n            ...(\n                this.extraFilter && {\n                    extraFilter: this.extraFilter.createValidationSchema()\n                }\n            )\n        })\n    }\n}","/* eslint-disable no-template-curly-in-string */\nimport {setLocale} from \"yup\";\n\nconst ptBR = {\n    mixed: {\n        required: '${path} é requerido',\n        notType: '${path} é inválido'\n    },\n    string: {\n        max: '${path} precisa ter no máximo ${max} caracteres'\n    },\n    number:{\n        min: '${path} precisa ser no mínimo ${min}'\n    }\n};\n\nsetLocale(ptBR);\n\nexport * from 'yup';","import {createContext} from \"react\";\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;","import React, {useContext, useEffect,useRef, useState} from 'react';\nimport format from \"date-fns/format\"\nimport parseISO from \"date-fns/parseISO\"\nimport categoryHttp from \"../../../util/http/category-http\";\nimport {BadgeYes,BadgeNo} from '../../../components/Badge'\nimport {Category, ListResponse} from \"../../../util/models\";\nimport DefaultTable, {makeActionStyles, TableColumn} from '../../../components/Table'\nimport {useSnackbar} from \"notistack\";\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\nimport {Edit} from \"@material-ui/icons\";\nimport {Link} from \"react-router-dom\";\nimport FilterResetButton from \"../../../components/Table/FilterResetButton\";\nimport useFilter from \"../../../hooks/useFilter\";\nimport LoadingContext from \"../../../components/loading/LoadingContext\";\n\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: \"id\",\n        label: \"Id\",\n        width: \"33%\",\n        options:{\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"40%\"\n    },\n    {\n        name: \"is_active\",\n        label: \"Ativo?\",\n        options: {\n            customBodyRender(value, tableMeta, updateValue ){\n                return value ? <BadgeYes/> : <BadgeNo/>\n            },\n            filterOptions: {\n                names: ['Sim','Não']\n            },\n        },\n        width: '4%'\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: '10%',\n        options: {\n            customBodyRender(value, tableMeta, updateValue ){\n                return <span>{format(parseISO(value),'dd/MM/yyyy')}</span>\n            },\n            filter: false\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: '13%',\n        options: {\n            customBodyRender(value, tableMeta, updateValue): JSX.Element {\n                return(\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/categorias/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <Edit/>\n                    </IconButton>\n                )\n            },\n            filter: false\n        }\n\n    }\n];\n\nconst debounceTime = 200;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 10;\nconst rowsPerPageOptions =  [10,25,50];\n\nconst Table = () => {\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data,setData] = useState<Category[]>([]);\n    const loading = useContext(LoadingContext);\n\n\n     const {\n\n         debouncedFilterState,\n         filterManager,\n         filterState,\n         totalRecords,\n         setTotalRecords\n     } = useFilter({\n         columns: columnsDefinition,\n         debounceTime: debounceTime,\n         rowsPerPage,\n         rowsPerPageOptions\n     });\n\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    },[\n        filterManager.clearSearchText(debouncedFilterState.search),\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order\n    ]);\n\n\n    async function getData(){\n        try {\n            const {data} = await categoryHttp.list<ListResponse<Category>>({\n                queryParam: {\n                    search: filterManager.clearSearchText(filterState.search),\n                    page: filterState.pagination.page,\n                    per_page: filterState.pagination.per_page,\n                    sort: filterState.order.sort,\n                    dir: filterState.order.dir\n                }\n            });\n            if(subscribed.current){\n                setData(data.data)\n                setTotalRecords(data.meta.total)\n            }\n            }catch (error){\n                console.error(error);\n                if(categoryHttp.isCancelledRequest(error)){\n                    return;\n                }\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n\n            }\n        }\n\n        return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DefaultTable\n                columns={columnsDefinition}\n                data={data}\n                title={'Listagem de Categorias'}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => {\n                          filterManager.resetFilter();\n                            // dispatch(Creators.setReset())\n                        }}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;","import React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from \"./components/Table\";\n\nexport const CategoryList = () => {\n    return (\n        <Page title='Listagem de Categorias'>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={'Adicionar Categoria'}\n                    size={'small'}\n                    color={'secondary'}\n                    component={Link}\n                    to={'/categorias/create'}\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default CategoryList;","import HttpResource from \"./http-resource\";\nimport httpVideo from \"./index\";\n\nconst castMemberHttp = new HttpResource(httpVideo,'cast-members');\n\nexport default castMemberHttp;","export interface ListResponse<T>{\n    data: T[],\n    links: {\n        first: string,\n        last: string,\n        prev: string | null,\n        next: string | null\n    },\n    meta: {\n        current_page: number,\n        from: number,\n        last_page: number,\n        path: string,\n        per_page: number,\n        to: number,\n        total: number\n    }\n}\n\ninterface Timestampable{\n    readonly created_at: string,\n    readonly updated_at: string,\n    readonly deleted_at: string | null\n}\n\nexport interface Category extends Timestampable{\n    readonly id: string,\n    name: string,\n    description: string,\n    is_active: boolean\n}\n\nexport interface CastMember extends Timestampable{\n    readonly id: string,\n    name: string,\n    type: number\n}\n\nexport const CastMemberTypeMap = {\n    1: 'Diretor',\n    2: 'Ator'\n}\n\nexport interface Genre extends Timestampable{\n    readonly id: string,\n    name: string,\n    is_active: boolean\n    categories: Category[]\n}\n\ninterface GenreVideo extends Omit<Genre, 'categories'> {\n\n}\n\nexport const VideoFileFieldsMap = {\n    'thumb_file': 'Thumbnail',\n    'banner_file': 'Banner',\n    'trailer_file': 'Trailer',\n    'video_file': 'Principal',\n};\n\n\nexport interface Video extends Timestampable{\n    readonly id: string;\n    title: string;\n    description: string;\n    year_launched: number;\n    opened: boolean;\n    rating: string;\n    duration: number;\n    genres: GenreVideo[];\n    categories: Category[];\n    cast_members: CastMember[];\n    thumb_file_url: string;\n    banner_file_url: string;\n    trailer_file_url: string;\n    video_file_url: string;\n}\n","import * as React from 'react';\nimport {useEffect, useState} from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport castMemberHttp from \"../../../util/http/cast-member-http\";\nimport {CastMember, CastMemberTypeMap, ListResponse} from \"../../../util/models\";\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DefaultTable, {makeActionStyles, TableColumn} from '../../../components/Table';\nimport {useSnackbar} from \"notistack\";\nimport {useRef} from \"react\";\nimport useFilter from \"../../../hooks/useFilter\";\nimport FilterResetButton from \"../../../components/Table/FilterResetButton\";\nimport * as yup from '../../../util/vendor/yup';\nimport {invert} from 'lodash';\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"name\",\n        label: \"Nome\",\n        width: \"43%\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"type\",\n        label: \"Tipo\",\n        width: '4%',\n        options: {\n            filterOptions: {\n                names: castMemberNames\n            },\n            customBodyRender: (value, tableMeta, updateValue) => { //typescript any\n                return CastMemberTypeMap[value];\n            },\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: '13%',\n        options: {\n            filter: false,\n            sort: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <span>\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/cast-members/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                </span>\n                )\n            }\n        }\n    }\n];\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<CastMember[]>([]);\n    const [loading, setLoading] = useState<boolean>(false);\n\n\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        extraFilter: {\n            createValidationSchema: () => {\n                return yup.object().shape({\n                    type: yup.string()\n                        .nullable()\n                        .transform(value => {\n                            return !value || !castMemberNames.includes(value) ? undefined : value;\n                        })\n                        .default(null)\n                })\n            },\n            formatSearchParams: (debouncedState) => {\n                return debouncedState.extraFilter\n                    ? {\n                        ...(\n                            debouncedState.extraFilter.type &&\n                            {type: debouncedState.extraFilter.type}\n                        ),\n                    }\n                    : undefined\n            },\n            getStateFromURL: (queryParams) => {\n                return {\n                    type: queryParams.get('type')\n                }\n            }\n        }\n    });\n    //?type=Diretor\n    const indexColumnType = columns.findIndex(c => c.name === 'type');\n    const columnType = columns[indexColumnType];\n    const typeFilterValue = filterState.extraFilter && filterState.extraFilter.type as never;\n    (columnType.options as any).filterList = typeFilterValue ? [typeFilterValue] : [];\n\n    const serverSideFilterList = columns.map(column => []);\n    if (typeFilterValue) {\n        serverSideFilterList[indexColumnType] = [typeFilterValue];\n    }\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        filterManager.clearSearchText(debouncedFilterState.search),\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        // Incluido esse Json para não chamar getData desnecessário.\n        JSON.stringify(debouncedFilterState.extraFilter)\n    ]);\n\n    async function getData() {\n        setLoading(true);\n        try {\n            const {data} = await castMemberHttp.list<ListResponse<CastMember>>({\n                queryParam: {\n                    search: filterManager.clearSearchText(debouncedFilterState.search),\n                    page: debouncedFilterState.pagination.page,\n                    per_page: debouncedFilterState.pagination.per_page,\n                    sort: debouncedFilterState.order.sort,\n                    dir: debouncedFilterState.order.dir,\n                    ...(\n                        debouncedFilterState.extraFilter &&\n                        debouncedFilterState.extraFilter.type &&\n                        {type: invert(CastMemberTypeMap)[debouncedFilterState.extraFilter.type]}\n                    )\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.error(error);\n            if (castMemberHttp.isCancelledRequest(error)) {\n                return;\n            }\n            snackbar.enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: 'error',}\n            )\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DefaultTable\n                title=\"\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                options={{\n                    serverSide: true,\n                    responsive: \"vertical\",\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList, type) => {\n                        const columnIndex = columns.findIndex(c => c.name === column);\n                        filterManager.changeExtraFilter({\n                            [column as any]: filterList[columnIndex].length ? filterList[columnIndex][0] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton\n                            handleClick={() => filterManager.resetFilter()}\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;\n","import React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from \"./components/Table\";\n\n\n\nconst CastMemberList = () => {\n    return (\n        <Page title='Listagem de membors de elencos'>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={'Adicionar membro de elenco'}\n                    size={'small'}\n                    color={'secondary'}\n                    component={Link}\n                    to={'/cast-members/create'}\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default CastMemberList","import HttpResource from \"./http-resource\";\nimport httpVideo from \"./index\";\n\nconst genreHttp = new HttpResource(httpVideo,'genres');\n\nexport default genreHttp;","import React, {useEffect, useRef, useState} from 'react';\nimport {MUIDataTableColumn} from \"mui-datatables\";\nimport format from \"date-fns/format\"\nimport parseISO from \"date-fns/parseISO\"\nimport categoryHttp from \"../../../util/http/category-http\";\nimport genreHttp from \"../../../util/http/genre-http\";\nimport {useSnackbar} from \"notistack\";\nimport {Category, Genre, ListResponse} from \"../../../util/models\";\nimport useFilter from \"../../../hooks/useFilter\";\nimport * as yup from \"../../../util/vendor/yup\";\nimport {MuiThemeProvider} from \"@material-ui/core\";\nimport DefaultTable, {makeActionStyles} from '../../../components/Table'\nimport FilterResetButton from \"../../../components/Table/FilterResetButton\";\n\n\n\n\nconst columnsDefinition: MUIDataTableColumn[] = [\n    {\n        name: \"name\",\n        label: \"Nome\",\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categorias\",\n        options: {\n            filterType: 'multiselect',\n            filterOptions: {\n                names: []\n            },\n            customBodyRender(value, tableMeta, updateValue ){\n                return value.map(value => value.name).join(', ')\n            },\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        options: {\n            customBodyRender(value, tableMeta, updateValue ){\n                return <span>{format(parseISO(value),'dd/MM/yyyy')}</span>\n            },\n            filter: false\n        }\n    }\n];\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\n\nconst Table = () => {\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Genre[]>([]);\n    const [loading, setLoading] = useState<boolean>(false);\n\n\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n        extraFilter: {\n            createValidationSchema: () => {\n                return yup.object().shape({\n                    categories: yup.mixed()\n                        .nullable()\n                        .transform(value => {\n                            return !value || value === '' ? undefined : value.split(',');\n                        })\n                        .default(null),\n                })\n            },\n            formatSearchParams: (debouncedState) => {\n                return debouncedState.extraFilter ? {\n                    ...(\n                        debouncedState.extraFilter.categories &&\n                        {categories: debouncedState.extraFilter.categories.join(',')}\n                    )\n                } : undefined\n            },\n            getStateFromURL: (queryParams) => {\n                return {\n                    categories: queryParams.get('categories')\n                }\n            }\n        }\n    });\n\n    /**\n     * Bloco para pegar o indice de categoria e depois pegar a variavele atribuir o valor\n     * e chamar no filter\n    **/\n    const indexColumnCategories = columns.findIndex(c => c.name === 'categories');\n    const columnCategories = columns[indexColumnCategories];\n    const categoriesFilterValue = filterState.extraFilter && filterState.extraFilter.categories;\n    (columnCategories.options as any).filterList = categoriesFilterValue ? categoriesFilterValue : [];\n\n\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () =>{\n            try{\n                const {data} = await categoryHttp.list({queryParam: {all: ''}});\n                if(isSubscribed){\n                    (columnCategories.options as any).filterOptions.names = data.data.map(category => category.name)\n                }\n            }catch (error){\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error',}\n                )\n            }\n\n        })();\n        return () => {\n            isSubscribed = false;\n        }\n    },[]);\n\n    useEffect(() => {\n        let isSubscribed = true;\n        (async () =>{\n            const {data} = await genreHttp.list();\n            if(isSubscribed){\n                setData(data.data)\n            }\n        })();\n        return () => {\n            isSubscribed = false;\n        }\n    },[]);\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        filterManager.clearSearchText(debouncedFilterState.search),\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order,\n        JSON.stringify(debouncedFilterState.extraFilter)\n    ]);\n\n    async function getData() {\n        setLoading(true);\n        try {\n            const {data} = await genreHttp.list<ListResponse<Genre>>({\n                queryParam: {\n                    search: filterManager.clearSearchText(debouncedFilterState.search),\n                    page: debouncedFilterState.pagination.page,\n                    per_page: debouncedFilterState.pagination.per_page,\n                    sort: debouncedFilterState.order.sort,\n                    dir: debouncedFilterState.order.dir,\n                    ...(\n                        debouncedFilterState.extraFilter &&\n                        debouncedFilterState.extraFilter.categories &&\n                        {categories: debouncedFilterState.extraFilter.categories.join(',')}\n                    )\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n            }\n        } catch (error) {\n            console.error(error);\n            if (genreHttp.isCancelledRequest(error)) {\n                return;\n            }\n            snackbar.enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: 'error',}\n            )\n        } finally {\n            setLoading(false);\n        }\n    }\n\n\n\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DefaultTable\n                columns={columnsDefinition}\n                data={data}\n                title={'Listagem de Gêneros'}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                options={{\n                    serverSide: true,\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    onFilterChange: (column, filterList, type) => {\n                        const columnIndex = columns.findIndex(c => c.name === column);\n                        filterManager.changeExtraFilter({\n                            [column as any]: filterList[columnIndex].length ? filterList[columnIndex] : null\n                        })\n                    },\n                    customToolbar: () => (\n                        <FilterResetButton handleClick={() => {\n                            filterManager.resetFilter();\n                        }}/>\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction)\n                }}\n            />\n        </MuiThemeProvider>\n\n    );\n};\n\nexport default Table;","import React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Table from \"./components/Table\";\n\n\ntype Props = {\n    \n};\nconst GenreList = (props: Props) => {\n    return (\n        <Page title='Listagem de Gêneros'>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title={'Adicionar Gêneros'}\n                    size={'small'}\n                    color={'secondary'}\n                    component={Link}\n                    to={'/genres/create'}\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\nexport default GenreList;","import React from 'react';\nimport {Box, Button, ButtonProps} from \"@material-ui/core\";\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return {\n        submit: {\n            margin: theme.spacing(1)\n        }\n    }\n})\n\ninterface SubmitActionProps{\n    disabledButtons?: boolean,\n    handleSalve: () => void\n}\n\n\n\nconst SubmitAction: React.FC<SubmitActionProps> = (props) => {\n    const classes = useStyles();\n\n    const buttonProps: ButtonProps = {\n        className: classes.submit,\n        variant: \"contained\",\n        color: 'secondary',\n        disabled: props.disabledButtons\n    }\n\n    return (\n        <Box dir={'ltf'}>\n            <Button\n                color={'primary'}\n                {...buttonProps}\n                onClick={props.handleSalve}\n            >\n                Salvar\n            </Button>\n            <Button\n                {...buttonProps}\n                type={'submit'}>\n                Salvar e continuar editando\n            </Button>\n        </Box>\n    );\n};\n\nSubmitAction.defaultProps = {\n    disabledButtons: false\n}\n\nexport default SubmitAction;","import * as React from 'react';\nimport {Grid, GridProps} from \"@material-ui/core\";\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    gridItem: {\n        padding: theme.spacing(1,0)\n    }\n}));\n\ninterface DefaultFormProps extends React.DetailedHTMLProps<React.FormHTMLAttributes<HTMLFormElement>, HTMLFormElement>{\n    GridContainerProps?: GridProps,\n    GridItemProps?: GridProps\n}\n\nexport const DefaultForm: React.FC<DefaultFormProps> = (props) => {\n    const classes = useStyles();\n    const {GridContainerProps, GridItemProps, ...other} = props;\n    return (\n       <form {...other}>\n           <Grid container {...GridContainerProps}>\n               <Grid item {...GridItemProps} className={classes.gridItem}>\n                   {props.children}\n               </Grid>\n           </Grid>\n       </form>\n    );\n};","import React, {useContext, useEffect, useState} from 'react';\nimport {Checkbox, FormControlLabel, TextField} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport categoryHttp from \"../../../util/http/category-http\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from '../../../util/vendor/yup'\nimport {useParams,useHistory} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport SubmitAction from \"../../../components/SubmitAction\";\nimport {DefaultForm} from \"../../../components/DefaultForm\";\nimport LoadingContext from \"../../../components/loading/LoadingContext\";\n\n\n\ninterface IFormInputs {\n    name: string,\n    description: string,\n    is_active: boolean\n}\n\nconst SchemaValidation = yup.object({\n    name: yup.string()\n        .label('Nome')\n        .required()\n        .max(255)\n});\n\nconst Form = () => {\n\n    const history = useHistory();\n    const {id} = useParams<{id: string}>();\n    const snackbar = useSnackbar();\n\n    const [category,setCategory] = useState<{id: string} | null>(null)\n    const loading = useContext(LoadingContext);\n\n\n\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        trigger\n    } = useForm<IFormInputs>({\n       resolver: yupResolver(SchemaValidation),\n       defaultValues: {\n            is_active: true\n       }\n    });\n\n\n\n    useEffect(() => {\n        if(!id){\n            return;\n        }\n        async function getCategory(){\n            try{\n                const {data} = await categoryHttp.get(id);\n                setCategory(data.data)\n                reset(data.data);\n            }catch (error){\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }\n        }\n        getCategory()\n\n    },[id,reset,snackbar])\n\n    useEffect(() => {\n        register('is_active')\n    },[register])\n\n\n    async function onSubmit(formData,event){\n        try{\n            const http = !category\n                ?categoryHttp.create(formData)\n                :categoryHttp.update(category.id, formData)\n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Categoria Salva com Sucesso',\n                {variant: 'success'}\n            )\n            setTimeout(() => {\n                event ? (\n                        id\n                            ? history.replace(`/categorias/${data.data.id}/edit`)\n                            : history.push(`/categorias/${data.data.id}/edit`)\n                    )\n                    :history.push('/categorias')\n            })\n        }catch(error) {\n            console.log(error);\n            snackbar.enqueueSnackbar(\n                'Não é possível salvar a categoria',\n                {variant: 'error'}\n            )\n        }\n    }\n    return (\n        <DefaultForm onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name={\"name\"}\n                label={\"Nome\"}\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name?.message}\n                InputLabelProps={{\n                    shrink: true\n                }}\n            />\n            <TextField\n                name={\"description\"}\n                label={\"Descrição\"}\n                multiline\n                rows={4}\n                fullWidth\n                variant={\"outlined\"}\n                margin={\"normal\"}\n                inputRef={register}\n                InputLabelProps={{\n                    shrink: true\n                }}\n                disabled={loading}\n            />\n            <FormControlLabel\n                disabled={loading}\n                control={\n                    <Checkbox\n                        name={'is_active'}\n                        color={'primary'}\n                        onChange={\n                            () => setValue('is_active', !getValues()['is_active'])\n                        }\n                        checked={watch('is_active')}\n                    />\n                }\n                label={'Ativo?'}\n            />\n            <SubmitAction\n                disabledButtons={loading}\n                handleSalve={() => {\n                        trigger().then((valid) => {\n                            valid && onSubmit(getValues(), null)\n                        })\n                    }\n                }\n            />\n        </DefaultForm>\n    );\n};\n\nexport default Form;","import React from 'react';\nimport {Page} from \"../../components/Page\";\nimport Form from \"./components/Form\";\nimport {useParams} from 'react-router';\n\ntype Category = {\n    id: string\n};\n\nconst CategoryForm = () => {\n    const {id} = useParams<Category>();\n    return (\n        <Page title={!id ? 'Criar categorias' : 'Editar Categoria'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default CategoryForm;","import React, {useEffect, useState} from \"react\";\nimport {MenuItem, TextField} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport categoryHttp from \"../../../util/http/category-http\";\nimport genreHttp from \"../../../util/http/genre-http\";\nimport {useHistory, useParams} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport * as yup from \"../../../util/vendor/yup\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport SubmitAction from \"../../../components/SubmitAction\";\nimport {DefaultForm} from \"../../../components/DefaultForm\";\n\ninterface Genre {\n    id: string,\n    name: string,\n    categories_id: string[]\n}\n\nconst SchemaValidation = yup.object({\n    name: yup.string()\n        .label('Nome')\n        .required()\n        .max(255),\n    categories_id: yup.array()\n        .label('Categorias')\n        .required()\n});\n\n\nconst Form = () => {\n    const history = useHistory();\n    const {id} = useParams<{id: string}>();\n    const snackbar = useSnackbar();\n\n    const [categories,setCategories] = useState<Genre[]>([]);\n    const [genre,setGenre] = useState<Genre | null>(null);\n    const [loading, setLoading] = useState<boolean>(false)\n\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        watch,\n        errors,\n        reset,\n        trigger\n    } = useForm<Genre>({\n        resolver: yupResolver(SchemaValidation),\n        defaultValues: {\n            categories_id: []\n        }\n    });\n\n    useEffect(() => {\n        register({name: 'categories_id'})\n    },[register])\n\n    useEffect(() => {\n       let isSubscribed = true;\n        (async () =>{\n            setLoading(true);\n            const promise = [categoryHttp.list({queryParam: {all: ''}})];\n            if(id){\n                promise.push(genreHttp.get(id))\n            }\n            try{\n                if(isSubscribed){\n                    const [categoriesResponse, genteResponse] = await Promise.all(promise);\n                    setCategories(categoriesResponse.data.data);\n                    if(id){\n                        setGenre(genteResponse.data.data);\n                        reset({\n                            ...genteResponse.data.data,\n                            categories_id: genteResponse.data.data.categories.map(category => category.id)\n                        });\n                    }\n                }\n            }catch(error){\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }finally {\n                setLoading(false);\n            }\n        })();\n        return() => {\n            isSubscribed = false;\n        }\n    },[]);\n\n    async function onSubmit(formData,event){\n        setLoading(true);\n        try{\n            const http = !genre\n                ?genreHttp.create(formData)\n                :genreHttp.update(genre.id, formData)\n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Gênero salvo com Sucesso',\n                {variant: 'success'}\n            )\n            setTimeout(() => {\n                event ? (\n                        id\n                            ? history.replace(`/genres/${data.data.id}/edit`)\n                            : history.push(`/genres/${data.data.id}/edit`)\n                    )\n                    :history.push('/genres')\n            })\n        }catch(error) {\n            console.log(error);\n            snackbar.enqueueSnackbar(\n                'Não é possível salvar o gênero',\n                {variant: 'error'}\n            )\n        }finally{\n            setLoading(false)\n        }\n    }\n    return (\n        <DefaultForm onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name={\"name\"}\n                label={\"Nome\"}\n                fullWidth\n                variant={\"outlined\"}\n                inputRef={register}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name?.message}\n                InputLabelProps={{\n                    shrink: true\n                }}\n\n            />\n            <TextField\n                select\n                name={\"categories_id\"}\n                value={watch('categories_id')}\n                label={\"Categorias\"}\n                fullWidth\n                variant={\"outlined\"}\n                margin={\"normal\"}\n                onChange={(e) => {\n                    setValue('categories_id', e.target.value,{ shouldValidate: true })\n                }}\n                SelectProps={{\n                    multiple: true\n                }}\n                disabled={loading}\n                error={errors.categories_id !== undefined}\n               // helperText={errors.categories_id && errors.categories_id.message}\n                InputLabelProps={{\n                    shrink: true\n                }}\n            >\n                <MenuItem value=\"\">\n                    <em>Selecione uma categoria</em>\n                </MenuItem>\n                {\n                    categories.map(\n                        (category,key) => (\n                            <MenuItem key={key} value={category.id}>{category.name}</MenuItem>\n                        )\n                    )\n                }\n            </TextField>\n            <SubmitAction\n                disabledButtons={loading}\n                handleSalve={() => {\n                    trigger().then((valid) => {\n                        valid && onSubmit(getValues(), null)\n                    })\n                }\n                }\n            />\n        </DefaultForm>\n    );\n};\n\nexport default Form;","import React from 'react';\nimport {Page} from \"../../components/Page\";\nimport Form from \"./components/Form\";\n\ntype Props = {\n    \n};\nconst GenreForm = (props: Props) => {\n    return (\n        <Page title={'Criar Gênero'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default GenreForm;","import React, {useEffect, useState} from \"react\";\nimport {\n    FormControl,\n    FormControlLabel, FormHelperText,\n    FormLabel,\n    Radio,\n    RadioGroup,\n    TextField\n} from \"@material-ui/core\";\nimport {useForm} from \"react-hook-form\";\nimport castMemberHttp from \"../../../util/http/cast-member-http\";\nimport * as yup from \"../../../util/vendor/yup\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport {useHistory, useParams} from \"react-router\";\nimport {useSnackbar} from \"notistack\";\nimport SubmitAction from \"../../../components/SubmitAction\";\nimport {DefaultForm} from \"../../../components/DefaultForm\";\n\ninterface IFormInputs {\n    name: string,\n    type: number\n}\n\nconst SchemaValidation = yup.object().shape({\n    name: yup.string()\n        .label('Nome')\n        .required()\n        .max(255),\n    type: yup.number()\n        .label('Tipo')\n        .required(),\n});\n\n\nconst Form = () => {\n    const history = useHistory();\n    const {id} = useParams<{id: string}>();\n    const snackbar = useSnackbar();\n\n    const [castMember,setcastMember] = useState<{id: string} | null>(null)\n    const [loading, setLoading] = useState<boolean>(false)\n\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        trigger\n    } = useForm<IFormInputs>({\n        resolver: yupResolver(SchemaValidation),\n    });\n\n    useEffect(() => {\n        register({name: 'type'})\n    },[register])\n\n    useEffect(() => {\n        if(!id){\n            return;\n        }\n        async function getCastMember(){\n            setLoading(true)\n            try{\n                const {data} = await castMemberHttp.get(id);\n                setcastMember(data.data)\n                reset(data.data);\n            }catch (error){\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }finally {\n                setLoading(false)\n            }\n        }\n        getCastMember()\n    },[id,reset,snackbar]);\n\n\n    async function onSubmit(formData,event){\n        setLoading(true);\n        try{\n            const http = !castMember\n                ?castMemberHttp.create(formData)\n                :castMemberHttp.update(castMember.id, formData)\n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Elenco Salvo com Sucesso',\n                {variant: 'success'}\n            )\n            setTimeout(() => {\n                event ? (\n                        id\n                            ? history.replace(`/cast-members/${data.data.id}/edit`)\n                            : history.push(`/cast-members/${data.data.id}/edit`)\n                    )\n                    :history.push('/cast-members')\n            })\n        }catch(error) {\n            console.log(error);\n            snackbar.enqueueSnackbar(\n                'Não é possível salvar a categoria',\n                {variant: 'error'}\n            )\n        }finally{\n            setLoading(false)\n        }\n    }\n\n    return (\n        <DefaultForm onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n                name={\"name\"}\n                label={\"Nome\"}\n                fullWidth\n                variant={\"outlined\"}\n                disabled={loading}\n                error={errors.name !== undefined}\n                helperText={errors.name?.message}\n                inputRef={register}\n                InputLabelProps={{\n                    shrink: true\n                }}\n            />\n            <FormControl\n                margin={'normal'}\n                error={errors.type !== undefined}\n                disabled={loading}\n            >\n                <FormLabel component={'legend'}>Tipo</FormLabel>\n                <RadioGroup\n                    name={'type'}\n                    onChange={(event => {setValue('type',parseInt(event.target.value))})}\n                    value={watch('type') + \"\"}\n                    >\n                    <FormControlLabel value='1' control={<Radio/>} label={'Diretor'}/>\n                    <FormControlLabel value='2' control={<Radio/>} label={'Ator'}/>\n                </RadioGroup>\n                {\n                    errors.type && <FormHelperText id=\"type-helper-text\">{errors.type.message}</FormHelperText>\n                }\n            </FormControl>\n            <SubmitAction\n                disabledButtons={loading}\n                handleSalve={() => {\n                    trigger().then((valid) => {\n                        valid && onSubmit(getValues(), null)\n                    })\n                }\n                }\n            />\n        </DefaultForm>\n    );\n};\n\nexport default Form;","import React from 'react';\nimport {Page} from \"../../components/Page\";\nimport Form from \"./components/Form\";\n\ntype Props = {\n    \n};\nconst GenreForm = (props: Props) => {\n    return (\n        <Page title={'Criar Elenco'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default GenreForm;","import HttpResource from \"./http-resource\";\nimport httpVideo from \"./index\";\n\nconst videoHttp = new HttpResource(httpVideo,'videos');\n\nexport default videoHttp;","import {useEffect, useState} from \"react\";\n\nconst useDeleteCollection = () => {\n    const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n    const [rowsToDelete, setRowsToDelete] = useState<{ data: Array<{ index, dataIndex }> }>({data: []});\n\n    useEffect(() => {\n        if (rowsToDelete.data.length) {\n            setOpenDeleteDialog(true);\n        }\n    }, [rowsToDelete]);\n\n    return {\n        openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete\n    }\n};\n\nexport default useDeleteCollection;\n","import * as React from 'react';\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@material-ui/core\";\n\ninterface DeleteDialogProps {\n    open: boolean;\n    handleClose: (confirmed: boolean) => void;\n}\n\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n\n    const {open, handleClose} = props;\n\n    return (\n        <Dialog\n            open={open}\n            onClose={() => handleClose(false)}\n        >\n            <DialogTitle>\n                Exclusão de registros\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Deseja realmente excluir este(s) registro(s)?\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => handleClose(false)} color=\"primary\">\n                    Cancelar\n                </Button>\n                <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\n                    Excluir\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default DeleteDialog;\n","import * as React from 'react';\nimport {useEffect, useRef, useState} from \"react\";\nimport format from \"date-fns/format\";\nimport parseISO from \"date-fns/parseISO\";\nimport videoHttp from \"../../../util/http/video-http\";\nimport {Video, ListResponse} from \"../../../util/models\";\nimport DefaultTable, {makeActionStyles, TableColumn} from '../../../components/Table';\nimport {useSnackbar} from \"notistack\";\nimport {IconButton, MuiThemeProvider} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport FilterResetButton from \"../../../components/Table/FilterResetButton\";\nimport useFilter from \"../../../hooks/useFilter\";\nimport useDeleteCollection from \"../../../hooks/useDeleteCollection\";\nimport DeleteDialog from \"../../../components/DeleteDialog\";\n\n\n\nconst columnsDefinition: TableColumn[] = [\n    {\n        name: 'id',\n        label: 'ID',\n        width: '30%',\n        options: {\n            sort: false,\n            filter: false\n        }\n    },\n    {\n        name: \"title\",\n        label: \"Título\",\n        width: '20%',\n        options: {\n            filter: false\n        }\n    },\n    {\n        name: \"genres\",\n        label: \"Gêneros\",\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta, updateValue) => {\n                return value.map(value => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"categories\",\n        label: \"Categorias\",\n        width: '12%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta, updateValue) => {\n                return value.map(value => value.name).join(', ');\n            }\n        }\n    },\n    {\n        name: \"created_at\",\n        label: \"Criado em\",\n        width: '10%',\n        options: {\n            filter: false,\n            customBodyRender(value, tableMeta, updateValue) {\n                return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>\n            }\n        }\n    },\n    {\n        name: \"actions\",\n        label: \"Ações\",\n        width: '13%',\n        options: {\n            sort: false,\n            filter: false,\n            customBodyRender: (value, tableMeta) => {\n                return (\n                    <IconButton\n                        color={'secondary'}\n                        component={Link}\n                        to={`/videos/${tableMeta.rowData[0]}/edit`}\n                    >\n                        <EditIcon/>\n                    </IconButton>\n                )\n            }\n        }\n    }\n];\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [15, 25, 50];\nconst Table = () => {\n    const snackbar = useSnackbar();\n    const subscribed = useRef(true);\n    const [data, setData] = useState<Video[]>([]);\n    const [loading, setLoading] = useState<boolean>(false);\n    const {openDeleteDialog, setOpenDeleteDialog, rowsToDelete, setRowsToDelete} = useDeleteCollection();\n\n\n\n\n    const {\n        columns,\n        filterManager,\n        filterState,\n        debouncedFilterState,\n        totalRecords,\n        setTotalRecords,\n    } = useFilter({\n        columns: columnsDefinition,\n        debounceTime: debounceTime,\n        rowsPerPage,\n        rowsPerPageOptions,\n\n    });\n\n    useEffect(() => {\n        subscribed.current = true;\n        filterManager.pushHistory();\n        getData();\n        return () => {\n            subscribed.current = false;\n        }\n    }, [\n        filterManager.clearSearchText(debouncedFilterState.search),\n        debouncedFilterState.pagination.page,\n        debouncedFilterState.pagination.per_page,\n        debouncedFilterState.order\n    ]);\n\n    async function getData() {\n        setLoading(true);\n        try {\n            const {data} = await videoHttp.list<ListResponse<Video>>({\n                queryParam: {\n                    search: filterManager.clearSearchText(debouncedFilterState.search),\n                    page: debouncedFilterState.pagination.page,\n                    per_page: debouncedFilterState.pagination.per_page,\n                    sort: debouncedFilterState.order.sort,\n                    dir: debouncedFilterState.order.dir,\n                }\n            });\n            if (subscribed.current) {\n                setData(data.data);\n                setTotalRecords(data.meta.total);\n                if(openDeleteDialog){\n                    setOpenDeleteDialog(false);\n                }\n            }\n        } catch (error) {\n            console.error(error);\n            if (videoHttp.isCancelledRequest(error)) {\n                return;\n            }\n            snackbar.enqueueSnackbar(\n                'Não foi possível carregar as informações',\n                {variant: 'error',}\n            )\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    function deleteRows(confirmed: boolean) {\n        if (!confirmed) {\n            setOpenDeleteDialog(false);\n            return;\n        }\n        const ids = rowsToDelete\n            .data\n            .map(value => data[value.index].id)\n            .join(',');\n        videoHttp\n            .deleteCollection({ids})\n            .then(response => {\n                snackbar.enqueueSnackbar(\n                    'Registros excluídos com sucesso',\n                    {variant: 'success'}\n                );\n                if(\n                    rowsToDelete.data.length === filterState.pagination.per_page\n                    && filterState.pagination.page > 1\n                ){\n                    const page = filterState.pagination.page - 2;\n                    filterManager.changePage(page);\n                }else{\n                    getData();\n                }\n            })\n            .catch((error) => {\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    'Não foi possível excluir os registros',\n                    {variant: 'error',}\n                )\n            })\n    }\n\n\n    return (\n        <MuiThemeProvider theme={makeActionStyles(columnsDefinition.length - 1)}>\n            <DeleteDialog open={openDeleteDialog} handleClose={deleteRows}/>\n            <DefaultTable\n                title=\"Vídeos\"\n                columns={columns}\n                data={data}\n                loading={loading}\n                debouncedSearchTime={debouncedSearchTime}\n                //ref={tableRef}\n                options={{\n                    serverSide: true,\n                    //responsive: \"scrollMaxHeight\",\n                    searchText: filterState.search as any,\n                    page: filterState.pagination.page - 1,\n                    rowsPerPage: filterState.pagination.per_page,\n                    rowsPerPageOptions,\n                    count: totalRecords,\n                    customToolbar: () => (\n                        <FilterResetButton\n                            handleClick={() => filterManager.resetFilter()}\n                        />\n                    ),\n                    onSearchChange: (value) => filterManager.changeSearch(value),\n                    onChangePage: (page) => filterManager.changePage(page),\n                    onChangeRowsPerPage: (perPage) => filterManager.changeRowsPerPage(perPage),\n                    onColumnSortChange: (changedColumn: string, direction: string) =>\n                        filterManager.changeColumnSort(changedColumn, direction),\n                    onRowsDelete: (rowsDeleted: any) => {\n                        setRowsToDelete(rowsDeleted as any);\n                        return false;\n                    },\n                }}\n            />\n        </MuiThemeProvider>\n    );\n};\n\nexport default Table;\n\n","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {Box, Fab} from \"@material-ui/core\";\nimport {Link} from \"react-router-dom\";\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from \"./components/Table\";\n\nconst PageList = () => {\n    return (\n        <Page title={'Listagem de vídeos'}>\n            <Box dir={'rtl'} paddingBottom={2}>\n                <Fab\n                    title=\"Adicionar vídeo\"\n                    color={'secondary'}\n                    size=\"small\"\n                    component={Link}\n                    to=\"/videos/create\"\n                >\n                    <AddIcon/>\n                </Fab>\n            </Box>\n            <Box>\n                <Table/>\n            </Box>\n        </Page>\n    );\n};\n\n\nexport default PageList;\n","import * as React from 'react';\nimport {makeStyles, Typography} from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n    root: {\n        width: '36px',\n        height: '36px',\n        fontSize: '1.2em',\n        color: '#fff',\n        borderRadius: '4px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    }\n});\n\nconst backgroundColors = {\n    'L': '#39B549',\n    '10': '#20A3D4',\n    '12': '#E79738',\n    '14': '#E35E00',\n    '16': '#d00003',\n    '18': '#000000'\n};\n\ninterface RatingProps {\n    rating: 'L' | '10' | '12' | '14' | '16' | '18'\n}\n\n\nconst Rating: React.FC<RatingProps> = (props) => {\n    const classes = useStyles();\n    return (\n        <Typography\n            className={classes.root}\n            style={{\n                backgroundColor: backgroundColors[props.rating]\n            }}\n        >\n            {props.rating}\n        </Typography>\n    );\n};\n\n\nexport default Rating;\n","// @flow\nimport * as React from 'react';\nimport {Box, FormControl, FormControlLabel, FormHelperText, FormLabel, Radio, RadioGroup} from \"@material-ui/core\";\nimport {FormControlLabelProps} from \"@material-ui/core/FormControlLabel\";\nimport Rating from \"../../../../components/Rating\";\nimport {FormControlProps} from \"@material-ui/core/FormControl\";\n\ninterface RatingFieldProps {\n    value: string;\n    setValue: (value) => void\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nconst ratings: FormControlLabelProps[] = [\n    {value: \"L\", control: <Radio color=\"primary\"/>, label: <Rating rating={'L'}/>, labelPlacement: \"top\"},\n    {value: \"10\", control: <Radio color=\"primary\"/>, label: <Rating rating={'10'}/>, labelPlacement: \"top\"},\n    {value: \"12\", control: <Radio color=\"primary\"/>, label: <Rating rating={'12'}/>, labelPlacement: \"top\"},\n    {value: \"14\", control: <Radio color=\"primary\"/>, label: <Rating rating={'14'}/>, labelPlacement: \"top\"},\n    {value: \"16\", control: <Radio color=\"primary\"/>, label: <Rating rating={'16'}/>, labelPlacement: \"top\"},\n    {value: \"18\", control: <Radio color=\"primary\"/>, label: <Rating rating={'18'}/>, labelPlacement: \"top\"},\n];\n\nconst RatingField: React.FC<RatingFieldProps> = (props) => {\n    const {value, setValue, error, disabled} = props;\n    return (\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            {...props.FormControlProps}\n        >\n            <FormLabel component=\"legend\">Classificação</FormLabel>\n            <Box paddingTop={1}>\n                <RadioGroup\n                    name=\"rating\"\n                    onChange={(e) => {\n                        setValue(e.target.value);\n                    }}\n                    value={value}\n                    row\n                >\n                    {\n                        ratings.map(\n                            (props, key) => <FormControlLabel key={key} {...props}/>\n                        )\n                    }\n                </RadioGroup>\n            </Box>\n            {\n                error && <FormHelperText>{error.message}</FormHelperText>\n            }\n        </FormControl>\n    );\n};\n\nexport default RatingField;\n","import React from 'react';\nimport {InputAdornment, TextField, TextFieldProps} from \"@material-ui/core\";\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef, useState} from \"react\";\n\ninterface InputFileProps extends RefAttributes<InputFileComponent>{\n    ButtonFile: React.ReactNode;\n    InputFileProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\n    TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent{\n    openWindow: () => void;\n    clear: () =>void;\n}\n\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>((props,ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>\n    const [filename, setFilename] = useState(\"\");\n\n    const textFieldProps: TextFieldProps = {\n        variant: 'outlined',\n        ...props.TextFieldProps,\n        InputProps:{\n            ...(props.TextFieldProps && props.TextFieldProps.InputProps &&\n                {...props.TextFieldProps.InputProps}\n            ),\n            readOnly: true,\n            endAdornment: (\n                <InputAdornment position={\"end\"}>\n                    {props.ButtonFile}\n                </InputAdornment>\n            )\n        },\n        value: filename\n    };\n\n    const inputFileProps = {\n        ...props.InputFileProps,\n        hidden: true,\n        ref: fileRef,\n        onChange(event){\n            const files = event.target.files;\n            if(files.length){\n                setFilename(\n                    Array.from(files).map((file: any) => file.name).join(', ')\n                );\n            }\n            if(props.InputFileProps && props.InputFileProps.onChange){\n                props.InputFileProps.onChange(event)\n            }\n        }\n    };\n\n    useImperativeHandle(ref, () => ({\n        openWindow: () => fileRef.current.click(),\n        clear: () => setFilename(\"\")\n    }));\n\n\n    return (\n        <>\n            <input type=\"file\" {...inputFileProps}/>\n            <TextField {...textFieldProps}/>\n        </>\n    );\n});\n\nexport default InputFile;","import * as React from 'react';\nimport {\n    Button,\n    FormControl,\n} from \"@material-ui/core\";\nimport {FormControlProps} from \"@material-ui/core/FormControl\";\nimport {CloudUpload} from \"@material-ui/icons\";\nimport InputFile, {InputFileComponent} from \"../../../../components/InputFile\";\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef} from \"react\";\n\ninterface UploadFieldProps extends RefAttributes<any>{\n    accept: string;\n    label: string;\n    setValue: (value) => void;\n    error?: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n}\n\n\nexport interface UploadFieldComponent{\n    clear: () => void;\n}\n\nconst UploadField =  React.forwardRef<UploadFieldComponent,UploadFieldProps>((props,ref) => {\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>\n    const {accept,setValue, error, disabled, label} = props;\n\n    useImperativeHandle(ref, () => ({\n        clear: () => fileRef.current.clear()\n    }));\n\n\n    return (\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            {...props.FormControlProps}\n            fullWidth\n            margin={\"normal\"}\n        >\n            <InputFile\n                ref={fileRef}\n                TextFieldProps={{\n                    label: label,\n                    InputLabelProps: {shrink: true},\n                    style:{backgroundColor: '#ffffff'}\n                }}\n                InputFileProps={{\n                    accept,\n                    onChange(event){\n                        const files = event.target.files as any;\n                        files.length && setValue(files[0])\n                    }\n                }}\n                ButtonFile={(\n                    <Button\n                        endIcon={<CloudUpload/>}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => fileRef.current.openWindow()}\n                    >\n                        Adicionar\n                </Button>\n                )}\n\n            />\n        </FormControl>\n    );\n});\n\nexport default UploadField;\n","import {useSnackbar} from \"notistack\";\nimport axios from \"axios\";\n\nconst useHttpHandled = () => {\n    const snackbar = useSnackbar();\n    return async (request: Promise<any>) => {\n        try{\n            const {data} = await request;\n            return data;\n        }catch (e){\n            if(!axios.isCancel(e)){\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error'}\n                )\n            }\n            throw e;\n        }\n    }\n}\n\n\nexport default useHttpHandled;","import React, {useEffect, useImperativeHandle, useState} from 'react';\nimport { TextFieldProps } from '@material-ui/core/TextField';\nimport { Autocomplete, AutocompleteProps } from '@material-ui/lab';\nimport { CircularProgress, TextField } from '@material-ui/core';\nimport {useDebounce} from \"use-debounce\";\n\ninterface AsyncAutocompleteProps{\n    fetchOptions: (search: any) => Promise<any>;\n    debounceTime?: number,\n    TextFieldProps?: TextFieldProps;\n    AutocompleteProps?: Omit<AutocompleteProps<any, any, any, any>,\"renderInput\" | \"options\">\n}\n\nexport interface AsyncAutocompleteComponent {\n    clear: () => void;\n}\n\n\nconst AsyncAutocomplete = React.forwardRef<AsyncAutocompleteComponent,AsyncAutocompleteProps>((props,ref) => {\n    const {AutocompleteProps, debounceTime = 300,fetchOptions} = props;\n    const {freeSolo,onOpen, onClose} = AutocompleteProps as any;\n    const [open, setOpen] = useState(false);\n    const [searchText, setSearchText] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState([]);\n    const [debouncedSearchText] = useDebounce(searchText,debounceTime);\n\n\n    useEffect(() => {\n        if (!open && !freeSolo) {\n            setOptions([]);\n        }\n    }, [open,freeSolo]);\n\n    useEffect(() => {\n    if(!open){\n        return;\n    }\n    if(debouncedSearchText === \"\" && freeSolo ){\n        return;\n    }\n\n    let isSubscribed = true;\n    (async () => {\n      setLoading(true);\n      try {\n          const  data = await fetchOptions(debouncedSearchText);\n          if (isSubscribed) {\n             setOptions(data);\n        }\n      } finally {\n        setLoading(false);\n      }\n    })();\n    return () => {\n      isSubscribed = false;\n    };\n  }, [freeSolo,debouncedSearchText,open,fetchOptions]);\n\n  const textFieldProps: TextFieldProps = {\n    margin: 'normal',\n    variant: 'outlined',\n    fullWidth: true,\n    InputLabelProps: { shrink: true },\n    ...(props.TextFieldProps && { ...props.TextFieldProps }),\n  };\n\n  const autocompleteProps: AutocompleteProps<any,any,any,any> = {\n      loadingText: 'Carregando...',\n      noOptionsText: 'Nenhum item encontrado',\n      ...(AutocompleteProps && {...AutocompleteProps}),\n      open,\n      options,\n      loading,\n      inputValue: searchText,\n      onOpen(){\n          setOpen(true);\n          onOpen && onOpen();\n      },\n      onClose(){\n          setOpen(false);\n          onClose && onClose();\n      },\n      onInputChange(event, value) { setSearchText(value); },\n      renderInput: (params) => (\n      <TextField\n        {...params}\n        {...textFieldProps}\n        InputProps={{\n          ...params.InputProps,\n          endAdornment: (\n            <>\n              {loading && <CircularProgress color=\"inherit\" size={20} />}\n              {params.InputProps.endAdornment}\n            </>\n          ),\n        }}\n      />\n    ),\n  };\n\n    useImperativeHandle(ref, () => ({\n        clear: () => {\n            setSearchText(\"\");\n            setOptions([]);\n        }\n    }));\n\n    return (\n    <Autocomplete {...autocompleteProps} />\n  );\n});\n\nexport default AsyncAutocomplete;\n","import * as React from 'react';\nimport {createStyles, Grid, makeStyles, Theme} from \"@material-ui/core\";\nimport {GridProps} from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            backgroundColor: '#f1f1f1',\n            borderRadius: '4px',\n            padding: theme.spacing(1, 1),\n            color: theme.palette.secondary.main\n        },\n    }),\n);\n\ninterface GridSelectedProps extends GridProps {\n\n}\n\nexport const GridSelected: React.FC<GridSelectedProps> = (props) => {\n    const classes = useStyles();\n    return <Grid container wrap={\"wrap\"} className={classes.root} {...props}>\n        {props.children}\n    </Grid>\n};\n\nexport default GridSelected;\n","import * as React from 'react';\nimport {Grid, IconButton} from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport {GridProps} from \"@material-ui/core/Grid\";\n\ninterface GridSelectedItemProps extends GridProps {\n    onDelete: () => void\n}\n\nexport const GridSelectedItem: React.FC<GridSelectedItemProps> = (props) => {\n    const {onDelete, children, ...other} = props;\n    return <Grid item {...other}>\n        <Grid container alignItems={\"center\"} spacing={3}>\n            <Grid item xs={1}>\n                <IconButton size={\"small\"} color={\"inherit\"} onClick={onDelete}>\n                    <DeleteIcon/>\n                </IconButton>\n            </Grid>\n            <Grid item xs={10} md={11}>\n                {children}\n            </Grid>\n        </Grid>\n    </Grid>\n};\n\nexport default GridSelectedItem;\n","import {useSnackbar} from \"notistack\";\n\nconst useCollectionManager = (collection: any[], setCollection: (item) => void) => {\n    const snackbar = useSnackbar();\n    return {\n        addItem(item) {\n            if (!item || item === \"\") {\n                return;\n            }\n            const exists = collection.find(i => i.id === item.id);\n            if (exists) {\n                snackbar.enqueueSnackbar(\n                    'Item já adicionado', {variant: 'info'}\n                );\n                return;\n            }\n            collection.unshift(item);\n            setCollection(collection);\n        },\n        removeItem(item) {\n            const index = collection.findIndex(i => i.id === item.id);\n            if (index === -1) {\n                return;\n            }\n            collection.splice(index, 1);\n            setCollection(collection);\n        }\n    }\n};\n\nexport default useCollectionManager;\n","import {Category, Genre} from \"./models\";\n\nexport function getGenresFromCategory(genres: Genre[], category: Category){\n    return genres.filter((\n        genre => genre.categories.filter(cat => cat.id === category.id).length !== 0\n    ));\n}","import * as React from 'react';\nimport useHttpHandled from \"../../../../hooks/useHttpHandled\";\nimport genreHttp from \"../../../../util/http/genre-http\";\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../../components/AsyncAutocomplete\";\nimport GridSelected from \"../../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../../components/GridSelectedItem\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useCollectionManager from \"../../../../hooks/useCollectionManager\";\nimport {FormControl, FormHelperText, FormControlProps} from \"@material-ui/core\";\nimport {getGenresFromCategory} from \"../../../../util/model-filter\";\nimport {MutableRefObject, RefAttributes, useImperativeHandle, useRef} from \"react\";\n\ninterface GenreFieldProps extends RefAttributes<GenreFieldComponent>{\n    genres: any[];\n    setGenres: (genres) => void;\n    categories: any[];\n    setCategories: (category) => void;\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n};\n\nexport interface GenreFieldComponent {\n    clear: () => void\n}\n\n\nconst GenreField =  React.forwardRef<GenreFieldComponent,GenreFieldProps>((props,ref) => {\n    const autocompetleRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n    const {genres,setGenres, error, disabled,categories,setCategories} = props;\n    const {addItem,removeItem} = useCollectionManager(genres,setGenres);\n    const {removeItem: removeCategory} = useCollectionManager(categories, setCategories);\n    /* Usado para não aparecer a mensagem de erro no cancelamento*/\n    const autocompleteHttp =useHttpHandled();\n    function fetchOptions(searchText) {\n        return autocompleteHttp(\n            genreHttp\n                .list({\n                    queryParam: {\n                        search: searchText, all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompetleRef.current.clear()\n    }));\n\n    return (\n        <>\n        <AsyncAutocomplete\n            ref={autocompetleRef}\n            AutocompleteProps={{\n              //  autoSelect: true,\n                freeSolo: true,\n                clearOnEscape: true,\n                getOptionSelected: (option,value) => option.id === value.id,\n                getOptionLabel: option => option.name,\n                onChange: (event,value) => addItem(value),\n                disabled: disabled\n            }}\n            fetchOptions={fetchOptions}\n            TextFieldProps={{\n                label: 'Gêneros'\n            }}\n        />\n        <FormControl\n            error={error !== undefined}\n            disabled={disabled === true}\n            {...props.FormControlProps}\n            margin={\"normal\"}\n            fullWidth\n        >\n            <GridSelected>\n            {\n                genres?.map((genre,key) => (\n                    <GridSelectedItem\n                        key={key}\n                        onDelete={() => {\n                            const categoriesWithOneGenre = categories\n                                .filter(category => {\n                                    const genresFromCategory = getGenresFromCategory(genres, category);\n                                    return genresFromCategory.length === 1 && genresFromCategory[0].id === genre.id\n                                });\n                            categoriesWithOneGenre.forEach(cat => removeCategory(cat));\n                            removeItem(genre)\n                        }}\n                        xs={12}\n                    >\n                        <Typography noWrap={true}>{genre.name}</Typography>\n                    </GridSelectedItem>\n                ))\n            }\n            </GridSelected>\n            {\n                error && <FormHelperText>{error.message}</FormHelperText>\n            }\n        </FormControl>\n        </>\n    );\n});\n\nexport default GenreField;","import * as React from 'react';\nimport useHttpHandled from \"../../../../hooks/useHttpHandled\";\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../../components/AsyncAutocomplete\";\nimport GridSelected from \"../../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../../components/GridSelectedItem\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Genre} from \"../../../../util/models\";\nimport categoryHttp from \"../../../../util/http/category-http\";\nimport useCollectionManager from \"../../../../hooks/useCollectionManager\";\nimport {FormControl, FormHelperText, FormControlProps} from \"@material-ui/core\";\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\nimport {grey} from \"@material-ui/core/colors\";\nimport {getGenresFromCategory} from \"../../../../util/model-filter\";\nimport {MutableRefObject, useImperativeHandle, useRef} from \"react\";\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    genresSubtitle: {\n        color: grey[\"800\"],\n        fontSize: '0.8rem'\n    }\n}));\n\n\ninterface CategoryFieldProps {\n    categories: any[];\n    setCategories: (categories) => void;\n    genres: Genre[];\n    error: any;\n    disabled?: boolean;\n    FormControlProps?: FormControlProps;\n\n};\n\nexport interface CategoryFieldComponent{\n    clear: () => void\n}\n\nconst CategoryField = React.forwardRef<CategoryFieldComponent, CategoryFieldProps>((props, ref) => {\n    const classes = useStyles();\n    const {genres,categories,setCategories,error, disabled} = props;\n    const {addItem,removeItem} = useCollectionManager(categories,setCategories);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n    /* Usado para não aparecer a mensagem de erro no cancelamento*/\n    const autocompleteHttp =useHttpHandled();\n    function fetchOptions(searchText) {\n        return autocompleteHttp(\n            categoryHttp\n                .list({\n                    queryParam: {\n                        genres: genres.map(genre => genre.id).join(','),\n                        all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n\n    return (\n        <>\n        <AsyncAutocomplete\n            ref={autocompleteRef}\n            AutocompleteProps={{\n                getOptionLabel: option => option.name,\n                onChange: (event,value) => addItem(value),\n                disabled: !genres.length || disabled == true\n            }}\n            fetchOptions={fetchOptions}\n            TextFieldProps={{\n                label: 'Categorias'\n            }}\n        />\n            <FormControl\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n                margin={\"normal\"}\n                fullWidth\n            >\n                <GridSelected>\n                    {\n                        categories.map((category, key) => {\n                            const genresFromCategory = getGenresFromCategory(genres, category)\n                                .map(genre => genre.name)\n                                .join(',');\n                            return (\n                                <GridSelectedItem\n                                    key={key}\n                                    onDelete={() => removeItem(category)} xs={12}\n                                >\n                                    <Typography noWrap={true}>\n                                        {category.name}\n                                    </Typography>\n                                    <Typography noWrap={true} className={classes.genresSubtitle}>\n                                        Gêneros: {genresFromCategory}\n                                    </Typography>\n                                </GridSelectedItem>\n                            )\n                        })\n                    }\n\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CategoryField;","import * as React from 'react';\nimport AsyncAutocomplete, {AsyncAutocompleteComponent} from \"../../../../components/AsyncAutocomplete\";\nimport GridSelected from \"../../../../components/GridSelected\";\nimport GridSelectedItem from \"../../../../components/GridSelectedItem\";\nimport {FormControl, FormControlProps, FormHelperText, Grid, Typography} from \"@material-ui/core\";\nimport useHttpHandled from \"../../../../hooks/useHttpHandled\";\nimport useCollectionManager from \"../../../../hooks/useCollectionManager\";\nimport castMemberHttp from \"../../../../util/http/cast-member-http\";\nimport {MutableRefObject, RefAttributes, useRef} from \"react\";\nimport {useImperativeHandle} from \"react\";\n\ninterface CastMemberFieldProps extends RefAttributes<CastMemberFieldProps>{\n    castMembers: any[],\n    setCastMembers: (castMembers) => void\n    error: any\n    disabled?: boolean;\n    FormControlProps?: FormControlProps\n}\n\nexport interface CastMemberFieldComponent {\n    clear: () => void\n}\n\nconst CastMemberField = React.forwardRef<CastMemberFieldComponent, CastMemberFieldProps>((props, ref) => {\n    const {\n        castMembers,\n        setCastMembers,\n        error,\n        disabled\n    } = props;\n    const autocompleteHttp = useHttpHandled();\n    const {addItem, removeItem} = useCollectionManager(castMembers, setCastMembers);\n    const autocompleteRef = useRef() as MutableRefObject<AsyncAutocompleteComponent>;\n\n    function fetchOptions(searchText) {\n        return autocompleteHttp(\n            castMemberHttp\n                .list({\n                    queryParam: {\n                        search: searchText, all: \"\"\n                    }\n                })\n        ).then(data => data.data)\n    }\n\n    useImperativeHandle(ref, () => ({\n        clear: () => autocompleteRef.current.clear()\n    }));\n\n    return (\n        <>\n            <AsyncAutocomplete\n                ref={autocompleteRef}\n                fetchOptions={fetchOptions}\n                AutocompleteProps={{\n                    //autoSelect: true,\n                    clearOnEscape: true,\n                    freeSolo: true,\n                    getOptionLabel: option => option.name,\n                    getOptionSelected: (option, value) => option.id === value.id,\n                    onChange: (event, value) => addItem(value),\n                    disabled\n                }}\n                TextFieldProps={{\n                    label: 'Elenco',\n                    error: error !== undefined\n                }}\n            />\n            <FormControl\n                margin={\"normal\"}\n                fullWidth\n                error={error !== undefined}\n                disabled={disabled === true}\n                {...props.FormControlProps}\n            >\n                <GridSelected>\n                    {\n                        castMembers.map((castMember, key) => (\n                            <GridSelectedItem\n                                key={key}\n                                onDelete={() => {\n                                    removeItem(castMember)\n                                }}\n                                xs={6}>\n                                <Typography noWrap={true}>\n                                    {castMember.name}\n                                </Typography>\n                            </GridSelectedItem>\n                        ))\n                    }\n                </GridSelected>\n                {\n                    error && <FormHelperText>{error.message}</FormHelperText>\n                }\n            </FormControl>\n        </>\n    );\n});\n\nexport default CastMemberField;\n","import {FileUpload, Upload} from \"./types\";\n\nexport function countInProgress(uploads: Upload[]){\n    return uploads.filter(upload => !isFinished(upload)).length;\n}\n\nexport function isFinished(obj: Upload | FileUpload): boolean {\n    return obj.progress === 1 || hasError(obj);\n}\n\n\nexport function hasError(obj: Upload | FileUpload) : boolean {\n    if(isUploadType(obj)){\n        const upload = obj as Upload;\n        return upload.files.some(file => file.error);\n    }else{\n        const file = obj as FileUpload;\n        return file.error !== undefined\n    }\n}\n\n\nexport function isUploadType(obj: Upload | FileUpload){\n    return 'video' in obj\n}\n","import * as React from 'react';\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {CircularProgress, Fade, Theme} from \"@material-ui/core\";\nimport {grey} from \"@material-ui/core/colors\";\nimport {FileUpload, Upload} from \"../store/upload/types\";\nimport {hasError} from \"../store/upload/getters\";\n\ninterface UploadProgressProps {\n    size: number;\n    uploadOrFile: Upload | FileUpload;\n};\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    progressContainer:{\n        position: 'relative'\n    },\n    progress: {\n        position: 'absolute',\n        left: 0\n\n    },\n    progressBackground:{\n        color: grey[\"300\"]\n    }\n}))\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n    const {uploadOrFile,size} = props;\n    const classes = useStyles();\n    const error = hasError(uploadOrFile)\n    return (\n        <Fade in={uploadOrFile.progress < 1} timeout={{enter: 100, exit: 2000}}>\n            <div className={classes.progressContainer}>\n            <CircularProgress\n                variant={'static'}\n                value={100}\n                className={classes.progressBackground}\n                size={size}\n            />\n            <CircularProgress\n                variant={'static'}\n                className={classes.progress}\n                size={size}\n                value={error ? 0 : uploadOrFile.progress * 100}\n            />\n        </div>\n        </Fade>\n    );\n};\n\nexport default UploadProgress;","import * as Typings from './types';\nimport {createActions, createReducer} from 'reduxsauce';\nimport update from 'immutability-helper';\n\nexport const {Types, Creators} = createActions<{\n    ADD_UPLOAD: string,\n    REMOVE_UPLOAD: string,\n    UPDATE_PROGRESS: string,\n    SET_UPLOAD_ERROR: string\n},{\n    addUpload(payload: Typings.AddUploadAction['payload']): Typings.AddUploadAction\n    removeUpload(payload: Typings.RemoveUploadAction['payload']): Typings.RemoveUploadAction\n    updateProgress(payload: Typings.UpdateProgressAction['payload']): Typings.UpdateProgressAction\n    setUploadError(payload: Typings.SetUploadErrorAction['payload']): Typings.SetUploadErrorAction\n}>({\n    addUpload: ['payload'],\n    removeUpload: ['payload'],\n    updateProgress: ['payload'],\n    setUploadError: ['payload'],\n})\n\nexport const INITIAL_STATE: Typings.UploadState = {\n    uploads:[]\n}\n\nconst reducer = createReducer<Typings.UploadState, Typings.Actions>(INITIAL_STATE,{\n    [Types.ADD_UPLOAD]: addUpload as any,\n    [Types.REMOVE_UPLOAD]: removeUpload as any,\n    [Types.UPDATE_PROGRESS]: updateProgress as any,\n    [Types.SET_UPLOAD_ERROR]: setUploadError as any\n})\n\nexport default reducer;\n\nfunction addUpload(state = INITIAL_STATE, action: Typings.AddUploadAction): Typings.UploadState{\n    if(!action.payload.files.length) {\n        return state;\n    }\n    const index = findIndexUpload(state, action.payload.video.id);\n\n    if(index !== -1 && state.uploads[index].progress < 1) {\n        return state\n    }\n\n    const uploads = index === - 1\n        ? state.uploads\n        : update(state.uploads,{\n            $splice: [[index,1]]\n        });\n    return{\n        uploads: [\n            ...uploads,\n            {\n                video: action.payload.video,\n                progress: 0,\n                files: action.payload.files.map(file => (\n                    {\n                        fileField: file.fileField,\n                        filename: file.fileField,\n                        progress: 0\n                    })\n                )\n            }\n        ]\n    }\n}\n\n// Outra forma de alterar o state removendo o video retornando todos que seja diferentes dele.\nfunction removeUpload(state: Typings.UploadState = INITIAL_STATE, action: Typings.RemoveUploadAction): Typings.UploadState{\n    const uploads = state.uploads.filter(upload => upload.video.id !== action.payload.id);\n    if(uploads.length === state.uploads.length){\n        return state;\n    }\n    return {\n        uploads\n    }\n}\n\nfunction updateProgress(state: Typings.UploadState = INITIAL_STATE, action: Typings.UpdateProgressAction): Typings.UploadState{\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexFile,indexUpload} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if(indexUpload === undefined){\n        return state;\n    }\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    if (file.progress === action.payload.progress) {\n        return state;\n    }\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            $apply(upload) {\n                const files = update(upload.files, {\n                    [indexFile]: {\n                        $set: {...file, progress: action.payload.progress}\n                    }\n                });\n                const progress = calculateGlobalProgress(files);\n                console.log({...upload, progress, files});\n                return {...upload, progress, files}\n            }\n        }\n    });\n    return {uploads};\n}\n\nfunction setUploadError(state: Typings.UploadState = INITIAL_STATE, action: Typings.SetUploadErrorAction): Typings.UploadState {\n    //indexUpload, indexFile\n    const videoId = action.payload.video.id;\n    const fileField = action.payload.fileField;\n    const {indexUpload, indexFile} = findIndexUploadAndFile(state, videoId, fileField);\n\n    if (typeof indexUpload === \"undefined\") {\n        return state;\n    }\n\n    const upload = state.uploads[indexUpload];\n    const file = upload.files[indexFile];\n\n    const uploads = update(state.uploads, {\n        [indexUpload]: {\n            files: {\n                [indexFile]: {\n                    $set: {...file, error: action.payload.error, progress: 1}\n                }\n            }\n        }\n    });\n\n    return {uploads};\n}\n\n\nfunction findIndexUploadAndFile(state: Typings.UploadState, videoId, fileField): {indexUpload?, indexFile?}{\n    const indexUpload = findIndexUpload(state,videoId);\n    if(indexUpload === -1){\n        return {};\n    }\n\n    const upload = state.uploads[indexUpload];\n    const indexFile = findIndexFile(upload.files, fileField);\n    return indexFile === -1 ? {} : {indexUpload,indexFile};\n}\n\nfunction calculateGlobalProgress(files: Array<{progress}>){\n    const countFiles = files.length;\n    if(!countFiles){\n        return 0\n    }\n    const sumProgress = files.reduce((sum, file) => sum + file.progress,0);\n    return sumProgress / countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string){\n    return state.uploads.findIndex((upload) => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{fileField}>, fileField: string){\n    return files.findIndex(file => file.fileField === fileField);\n}","import * as React from \"react\";\nimport {Fade, IconButton, ListItemSecondaryAction, makeStyles, Theme} from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport {Upload} from \"../../store/upload/types\";\nimport {useDispatch} from \"react-redux\";\nimport {Creators} from \"../../store/upload\";\nimport {hasError, isFinished} from \"../../store/upload/getters\";\nimport {useEffect, useState} from \"react\";\nimport {useDebounce} from \"use-debounce\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    successIcon: {\n        color: theme.palette.success.main\n    },\n    errorIcon: {\n        color: theme.palette.error.main\n    },\n}));\n\ninterface UploadActionProps {\n    upload: Upload;\n    hover: boolean;\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const {upload, hover} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const error = hasError(upload);\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2000);\n\n\n    useEffect(() => {\n        setShow(isFinished(upload))\n    },[upload])\n\n    return (\n        debouncedShow ? (\n        <Fade in={show} timeout={{enter: 1000}}>\n            <ListItemSecondaryAction>\n                <span hidden={hover}>\n                    {\n                        upload.progress === 1 && !error &&(\n                        <IconButton className={classes.successIcon} edge={\"end\"}>\n                            <CheckCircleIcon/>\n                        </IconButton>\n                        )\n\n                    }\n                    {\n                        error && (\n                            <IconButton className={classes.errorIcon} edge={\"end\"}>\n                                <ErrorIcon/>\n                            </IconButton>\n                        )\n                    }\n                </span>\n                <span hidden={!hover}>\n                    <IconButton\n                        color={'primary'}\n                        edge={\"end\"}\n                        onClick={() => dispatch(Creators.removeUpload({id: upload.video.id}))}\n                    >\n                        <DeleteIcon/>\n                    </IconButton>\n                </span>\n            </ListItemSecondaryAction>\n        </Fade>\n        ) : null\n    )\n};\n\nexport default UploadAction;\n","import * as React from \"react\";\nimport {\n    Divider,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    makeStyles,\n    Theme, Tooltip,\n    Typography\n} from \"@material-ui/core\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport UploadProgress from \"../UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport {useState} from \"react\";\nimport {Upload} from \"../../store/upload/types\";\nimport {hasError} from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    listItem: {\n        paddingTop: '7px',\n        paddingBottom: '7px',\n        height: '53px'\n    },\n    movieIcon: {\n        color: theme.palette.error.main,\n        minWidth: '40px'\n    },\n    listItemText: {\n        marginLeft: '6px',\n        marginRight: '24px',\n        color: theme.palette.text.secondary\n    },\n}));\n\ninterface UploadItemProps {\n    upload: Upload\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {upload} = props;\n    const classes = useStyles();\n    const [itemHover, setItemHover] = useState(false);\n    const error = hasError(upload);\n    return (\n        <>\n            <Tooltip\n                disableFocusListener\n                disableHoverListener\n                title={ error ? \"Não foi possível fazer o upload, clique para mais detalhes\" : \"\"}\n                placement={\"left\"}\n            >\n                <ListItem\n                    className={classes.listItem}\n                    button\n                    onMouseOver={() => setItemHover(true)}\n                    onMouseLeave={() => setItemHover(false)}\n                >\n                    <ListItemIcon className={classes.movieIcon}>\n                        <MovieIcon/>\n                    </ListItemIcon>\n                    <ListItemText\n                        className={classes.listItemText}\n                        primary={\n                            <Typography noWrap={true} variant={'subtitle2'} color={\"inherit\"}>\n                                {upload.video.title}\n                            </Typography>\n                        }\n                    />\n                    <UploadProgress size={30} uploadOrFile={upload}/>\n                    <UploadAction upload={upload} hover={itemHover}/>\n                </ListItem>\n            </Tooltip>\n            <Divider component=\"li\"/>\n        </>\n    )\n};\n\nexport default UploadItem;\n","import * as React from 'react';\nimport {\n    Card,\n    CardActions,\n    Collapse,\n    IconButton,\n    List, Theme,\n    Typography\n} from \"@material-ui/core\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {useSnackbar} from \"notistack\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {useState} from \"react\";\nimport classnames from \"classnames\";\nimport UploadItem from \"./UploadItem\";\nimport {useSelector} from \"react-redux\";\nimport {Upload, UploadModule} from \"../../store/upload/types\";\nimport {countInProgress} from \"../../store/upload/getters\";\n//import UploadItem from \"./UploadItem\";\n//import {useSelector} from \"react-redux\";\n//import {Upload, UploadModule} from \"../../../store/upload/types\";\n//import {countInProgress} from \"../../store/upload/getters\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    card: {\n        width: 450,\n    },\n    cardActionRoot: {\n        padding: '8px 8px 8px 16px',\n        backgroundColor: theme.palette.primary.main,\n    },\n    title: {\n        fontWeight: 'bold',\n        color: theme.palette.primary.contrastText,\n    },\n    icons: {\n        marginLeft: 'auto !important',\n        color: theme.palette.primary.contrastText,\n    },\n    expand: {\n        transform: 'rotate(0deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    expandOpen: {\n        transform: 'rotate(180deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest\n        })\n    },\n    list: {\n        paddingTop: 0,\n        paddingBottom: 0\n    }\n}));\n\ninterface SnackbarUploadProps {\n    id: string | number;\n}\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadProps>((props, ref) => {\n\n    const {id} = props;\n    const classes = useStyles();\n    const {closeSnackbar} = useSnackbar();\n    const [expanded, setExpanded] = useState(true);\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n    //\n     const totalInProgress = countInProgress(uploads);\n        console.log(totalInProgress)\n    return (\n        <Card ref={ref} className={classes.card}>\n            <CardActions classes={{root: classes.cardActionRoot}}>\n                <Typography variant=\"subtitle2\" className={classes.title}>\n                    Fazendo upload de {totalInProgress}  vídeo(s)\n                </Typography>\n                <div className={classes.icons}>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => setExpanded(!expanded)}\n                        className={classnames(classes.expand, {[classes.expandOpen]: !expanded})}\n                    >\n                        <ExpandMoreIcon/>\n                    </IconButton>\n                    <IconButton\n                        color={\"inherit\"}\n                        onClick={() => closeSnackbar(id)}\n                    >\n                        <CloseIcon/>\n                    </IconButton>\n                </div>\n            </CardActions>\n            <Collapse in={expanded}>\n                <List className={classes.list}>\n                    {  uploads.map((upload, key) => (\n                        <UploadItem key={key} upload={upload}/>\n                    ))\n                    }\n                </List>\n            </Collapse>\n        </Card>\n    );\n});\n\nexport default SnackbarUpload;\n","import {useEffect} from 'react';\nimport {useSnackbar} from \"notistack\";\n\nconst UseSnackbarFormError = (submitCount, errors) => {\n    const snackbar = useSnackbar();\n    useEffect(() => {\n        const hasError = Object.keys(errors).length !== 0;\n        if(submitCount > 0 && hasError){\n            snackbar.enqueueSnackbar(\n                'Formulário Inválido. Revejas os campos marcados de vermelhos',\n                {variant: 'error'}\n            )\n        }\n    },[submitCount]);\n};\n\nexport default UseSnackbarFormError;\n","import * as React from 'react';\nimport * as yup from '../../../../util/vendor/yup';\nimport {useForm} from \"react-hook-form\";\nimport {yupResolver} from \"@hookform/resolvers/yup\";\nimport {useSnackbar} from \"notistack\";\nimport {useHistory, useParams} from \"react-router\";\n import {createRef, MutableRefObject, useContext, useEffect, useMemo, useRef, useState} from \"react\";\nimport videoHttp from \"../../../../util/http/video-http\";\nimport {Video, VideoFileFieldsMap} from \"../../../../util/models\";\nimport {DefaultForm} from \"../../../../components/DefaultForm\";\nimport {Card, CardContent, FormHelperText, Grid, Snackbar, TextField, useMediaQuery, useTheme} from \"@material-ui/core\";\nimport SubmitAction from \"../../../../components/SubmitAction\";\nimport RatingField from \"./RatingField\";\nimport UploadField from \"./UploadField\";\nimport {makeStyles, Theme} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport GenreField, {GenreFieldComponent} from \"./GenreField\";\nimport CategoryField, {CategoryFieldComponent} from \"./CategoryField\";\nimport CastMemberField, {CastMemberFieldComponent} from \"./CastMemberField\";\nimport {omit,zipObject} from 'lodash'\nimport {InputFileComponent} from \"../../../../components/InputFile\";\nimport LoadingContext from \"../../../../components/loading/LoadingContext\";\nimport SnackbarUpload from \"../../../../components/SnackbarUpload\";\nimport {useSelector,useDispatch} from 'react-redux';\nimport {FileInfo, Upload, UploadModule} from \"../../../../store/upload/types\";\nimport {Creators} from \"../../../../store/upload\";\nimport useSnackBarFormError from '../../../../hooks/useSnackbarFormError';\nimport {Simulate} from \"react-dom/test-utils\";\n\n\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    cardUpload:{\n        borderRadius: \"4px\",\n        backgroundColor: \"#f5f5f5\",\n        margin: theme.spacing(2,0)\n    }\n}))\n\n\nconst SchemaValidation = yup.object().shape({\n    title: yup.string()\n        .label('Título')\n        .required()\n        .max(255),\n    description: yup.string()\n        .label('Sinopse')\n        .required(),\n    year_launched: yup.number()\n        .label('Ano de lançamento')\n        .required()\n        .min(1),\n    duration: yup.number()\n        .label('Duração')\n        .required()\n        .min(1),\n    categories: yup.array()\n        .min(1,'Categoria é Requerido')\n        .label('Categorias')\n        .required(),\n    genres: yup.array()\n        .label('Gêneros')\n        .required()\n        .min(1,'Gêneros é Requerido')\n        .test({\n            message: 'Cada gênero escolhido precisa ter pelo menos uma categoria selecionada',\n            test(value) { //array genres [{name, categories: []}]\n                if(value !== undefined) {\n                    return value.every(\n                        v => v.categories.filter(\n                            cat => this.parent.categories.map(c => c.id).includes(cat.id)\n                        ).length !== 0\n                    );\n                }else{\n                    return true;\n                }\n            }\n        }),\n    rating: yup.string()\n        .label('Classificação')\n        .required(),\n\n});\n\n\nconst fileFields = Object.keys(VideoFileFieldsMap);\nexport const Form = () => {\n    const classes = useStyles();\n    const {\n        register,\n        handleSubmit,\n        getValues,\n        setValue,\n        errors,\n        reset,\n        watch,\n        trigger,\n        formState\n    } = useForm<any>({\n        resolver: yupResolver(SchemaValidation),\n        defaultValues: {\n            rating: null,\n            cast_members: [],\n            genres: [],\n            categories: [],\n            opened: false,\n        }\n    });\n    const snackbar = useSnackbar();\n    const history = useHistory();\n    const {id} = useParams<{id: string}>();\n    const [video, setVideo] = useState<Video | null>(null);\n    console.log(id)\n    const loading = useContext(LoadingContext);\n\n\n\n    // Para saber quando é acima de md\n    const theme = useTheme();\n    const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n    const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\n    const genreRef = useRef() as MutableRefObject<GenreFieldComponent>;\n    const categoryRef = useRef() as MutableRefObject<CategoryFieldComponent>;\n    const uploadsRef = useRef(\n        zipObject(fileFields, fileFields.map(() => createRef()))\n    ) as MutableRefObject<{[key: string] : MutableRefObject<InputFileComponent>}>\n\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        //Registrando de forma manual no useForm\n        [\n            'rating',\n            'opened',\n            'genres',\n            'categories',\n            'cast_members',\n            ...fileFields\n        ].forEach(name => register({name}));\n    }, [register]);\n\n\n    useEffect(() => {\n        if (!id) {\n            return;\n        }\n        let isSubscribed = true;\n        (async () => {\n            try {\n                const {data} = await videoHttp.get(id);\n                if (isSubscribed) {\n                    setVideo(data.data);\n                    reset(data.data);\n                }\n            } catch (error) {\n                console.error(error);\n                snackbar.enqueueSnackbar(\n                    'Não foi possível carregar as informações',\n                    {variant: 'error',}\n                )\n\n            }\n        })();\n        return () => {\n            isSubscribed = false;\n        }\n    }, []);\n\n    useSnackBarFormError(formState.submitCount, errors);\n\n    async function onSubmit(formData, event) {\n        const sendData = omit(\n            formData,\n            [...fileFields, 'cast_members', 'genres', 'categories']\n        );\n        sendData['cast_members_id'] = formData['cast_members'].map(cast_member => cast_member.id);\n        sendData['categories_id'] = formData['categories'].map(category => category.id);\n        sendData['genres_id'] = formData['genres'].map(genre => genre.id);\n\n        try {\n            const http = !video\n                ? videoHttp.create(sendData)\n                : videoHttp.update(video.id, sendData);\n            const {data} = await http;\n            snackbar.enqueueSnackbar(\n                'Vídeo salvo com sucesso',\n                {variant: 'success'}\n            );\n            uploadFiles(data);\n            id && resetForm(video);\n            setTimeout(() => {\n                event\n                    ? (\n                        id\n                            ? history.replace(`/videos/${data.id}/edit`)\n                            : history.push(`/videos/${data.id}/edit`)\n                    )\n                    : history.push('/videos')\n            });\n        } catch (error) {\n            console.error(error);\n            snackbar.enqueueSnackbar(\n                'Não foi possível salvar o vídeo',\n                {variant: 'error'}\n            )\n        }\n    }\n\n    function resetForm(data){\n        Object.keys(uploadsRef.current).forEach(\n            field => uploadsRef.current[field].current.clear()\n        );\n        castMemberRef.current.clear();\n        genreRef.current.clear();\n        categoryRef.current.clear();\n        reset(data)\n    }\n\n    function uploadFiles(video){\n        const files: FileInfo[] = fileFields\n            .filter(file => getValues()[file])\n            .map(fileField => ({fileField, file: getValues()[fileField]}))\n\n        if(!files.length){\n            return;\n        }\n\n        dispatch(Creators.addUpload({video, files}))\n\n        snackbar.enqueueSnackbar('', {\n            key: 'snackbar-upload',\n            persist: true,\n            anchorOrigin:{\n                horizontal: 'right',\n                vertical: 'bottom'\n            },\n            content: (key,message) => {\n                const id = key as any;\n                return <SnackbarUpload id={id}/>\n            }\n        })\n    }\n\n\n    return (\n        <DefaultForm\n            GridItemProps={{xs: 12}}\n            onSubmit={handleSubmit(onSubmit)}\n        >\n            <Grid container spacing={5}>\n                <Grid item xs={12} md={6}>\n                    <TextField\n                        name=\"title\"\n                        label=\"Título\"\n                        variant={'outlined'}\n                        fullWidth\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{shrink: true}}\n                        error={errors.title !== undefined}\n                        helperText={errors.title && errors.title.message}\n                    />\n                    <TextField\n                        name=\"description\"\n                        label=\"Sinopse\"\n                        multiline\n                        rows=\"4\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        fullWidth\n                        inputRef={register}\n                        disabled={loading}\n                        InputLabelProps={{shrink: true}}\n                        error={errors.description !== undefined}\n                        helperText={errors.description && errors.description.message}\n                    />\n                    <Grid container spacing={1}>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"year_launched\"\n                                label=\"Ano de lançamento\"\n                                type=\"number\"\n                                margin=\"normal\"\n                                variant=\"outlined\"\n                                fullWidth\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{shrink: true}}\n                                error={errors.year_launched !== undefined}\n                                helperText={errors.year_launched && errors.year_launched.message}\n                            />\n                        </Grid>\n                        <Grid item xs={6}>\n                            <TextField\n                                name=\"duration\"\n                                label=\"Duração\"\n                                type=\"number\"\n                                margin=\"normal\"\n                                variant=\"outlined\"\n                                fullWidth\n                                inputRef={register}\n                                disabled={loading}\n                                InputLabelProps={{shrink: true}}\n                                error={errors.duration !== undefined}\n                                helperText={errors.duration && errors.duration.message}\n                            />\n                        </Grid>\n                    </Grid>\n                    <CastMemberField\n                        ref={castMemberRef}\n                        castMembers={watch('cast_members')}\n                        setCastMembers={(value) => setValue('cast_members', value, {shouldValidate: true})}\n                        error={errors.cast_members}\n                        disabled={loading}\n                    />\n\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={6}>\n                            <GenreField\n                                ref={genreRef}\n                                genres={watch('genres')}\n                                setGenres={(value) => setValue('genres',value,{shouldValidate: true})}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories',value,{shouldValidate: true})}\n                                error={errors.genres}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <CategoryField\n                                ref={categoryRef}\n                                categories={watch('categories')}\n                                setCategories={(value) => setValue('categories',value,{shouldValidate: true})}\n                                genres={watch('genres')}\n                                error={errors.categories}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <FormHelperText>\n                                Escolha os gêneros do vídeos\n                            </FormHelperText>\n                            <FormHelperText>\n                               Escolha pelo menos uma categoria de cada gênero\n                            </FormHelperText>\n                        </Grid>\n                    </Grid>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <RatingField\n                        value={watch('rating')}\n                        setValue={(value) => setValue('rating',value,{shouldValidate: true})}\n                        error={errors.rating}\n                        disabled={loading}\n                        FormControlProps={{\n                            margin: isGreaterMd ? 'none' : 'normal'\n                        }}\n                    />\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                                Imagens\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['thumb_file']}\n                                accept={'image/*'}\n                                label={'Thumb'}\n                                setValue={(value) => setValue('thumb_file',value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['banner_file']}\n                                accept={'image/*'}\n                                label={'Banner'}\n                                setValue={(value) => setValue('banner_file',value)}\n                            />\n                        </CardContent>\n                    </Card>\n                    <Card className={classes.cardUpload}>\n                        <CardContent>\n                            <Typography color=\"primary\" variant=\"h6\">\n                               Videos\n                            </Typography>\n                            <UploadField\n                                ref={uploadsRef.current['trailer_file']}\n                                accept={'video/mp4'}\n                                label={'Trailler'}\n                                setValue={(value) => setValue('trailer_file',value)}\n                            />\n                            <UploadField\n                                ref={uploadsRef.current['video_file']}\n                                accept={'video/mp4'}\n                                label={'Principal'}\n                                setValue={(value) => setValue('video_file',value)}\n                            />\n                        </CardContent>\n                    </Card>\n\n                </Grid>\n            </Grid>\n            <SubmitAction\n                disabledButtons={loading}\n                handleSalve={() => {\n                    trigger().then((valid) => {\n                        valid && onSubmit(getValues(), null)\n                    })\n                }\n                }\n            />\n        </DefaultForm>\n\n    );\n};\n","import * as React from 'react';\nimport {Page} from \"../../components/Page\";\nimport {useParams} from 'react-router';\nimport {Form} from \"./components/Form\";\n\nconst PageForm = () => {\n    const {id} = useParams<{id: string}>();\n    return (\n        <Page title={!id ? 'Criar vídeo' : 'Editar vídeo'}>\n            <Form/>\n        </Page>\n    );\n};\n\nexport default PageForm;\n","import React, {useEffect, useState} from \"react\";\nimport {Divider, Fade, IconButton, makeStyles, Theme} from \"@material-ui/core\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport {Link} from \"react-router-dom\";\nimport {FileUpload, Upload} from \"../../store/upload/types\";\nimport {Creators} from '../../store/upload';\nimport {useDispatch} from \"react-redux\";\nimport {hasError, isFinished, isUploadType} from \"../../store/upload/getters\";\nimport {useDebounce} from \"use-debounce\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        successIcon: {\n            color: theme.palette.success.main,\n            marginLeft: theme.spacing(1)\n        },\n        errorIcon: {\n            color: theme.palette.error.main,\n            marginLeft: theme.spacing(1)\n        },\n        divider: {\n            height: '20px',\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1)\n        }\n    })\n});\n\ninterface UploadActionProps {\n    uploadOrFile: Upload | FileUpload\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [show, setShow] = useState(false);\n    const [debouncedShow] = useDebounce(show, 2500);\n    const error = hasError(uploadOrFile);\n    const videoId = (uploadOrFile as any).video ? (uploadOrFile as any).video.id : \"\";\n    const activeActions = isUploadType(uploadOrFile);\n\n    useEffect(() => {\n        setShow(isFinished(uploadOrFile))\n    }, [uploadOrFile]);\n\n    return (\n        debouncedShow\n            ? (<Fade in={true} timeout={{enter: 1000}}>\n                <>\n                    {\n                        uploadOrFile.progress === 1 &&\n                        !error &&\n                        <CheckCircleIcon className={classes.successIcon}/>\n                    }\n\n                    {error && <ErrorIcon className={classes.errorIcon}/>}\n\n                    {\n                        activeActions && (\n                            <>\n                                <Divider className={classes.divider} orientation={'vertical'}/>\n                                <IconButton\n                                    onClick={() => dispatch(Creators.removeUpload({id: videoId}))}\n                                >\n                                    <DeleteIcon color={'primary'}/>\n                                </IconButton>\n                                <IconButton\n                                    component={Link}\n                                    to={`/videos/${videoId}/edit`}\n                                >\n                                    <EditIcon color={'primary'}/>\n                                </IconButton>\n                            </>\n                        )}\n                </>\n            </Fade>)\n            : null\n    )\n};\n\nexport default UploadAction;\n","import {Grid, ListItem, makeStyles, Theme, Typography} from \"@material-ui/core\";\nimport React from \"react\";\nimport UploadProgress from \"../../components/UploadProgress\";\nimport UploadAction from \"./UploadAction\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport ImageIcon from '@material-ui/icons/Image';\nimport {FileUpload, Upload} from \"../../store/upload/types\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        gridTitle: {\n            display: 'flex',\n            color: '#999999'\n        },\n        icon: {\n            color: theme.palette.error.main,\n            minWidth: '40px'\n        },\n    })\n});\n\ninterface UploadItemProps {\n    uploadOrFile: Upload | FileUpload\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n    const {uploadOrFile} = props;\n    const classes = useStyles();\n\n    function makeIcon() {\n        if (true) {\n            return <MovieIcon className={classes.icon}/>\n        }\n\n        return <ImageIcon className={classes.icon}/>\n    }\n\n    return (\n        <ListItem>\n            <Grid container alignItems={'center'}>\n                <Grid\n                    className={classes.gridTitle}\n                    item\n                    xs={12}\n                    md={9}\n                >\n                    {makeIcon()}\n                    <Typography color={\"inherit\"}>\n                        {props.children}\n                    </Typography>\n                </Grid>\n                <Grid item xs={12} md={3}>\n                    <Grid\n                        container\n                        direction={\"row\"}\n                        alignItems={'center'}\n                        justify={\"flex-end\"}\n                    >\n                        <UploadProgress size={48} uploadOrFile={uploadOrFile}/>\n                        <UploadAction uploadOrFile={uploadOrFile}/>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    )\n};\n\nexport default UploadItem;\n","import * as React from \"react\";\nimport {\n    Card,\n    CardContent,\n    Divider,\n    ExpansionPanel,\n    ExpansionPanelDetails,\n    ExpansionPanelSummary,\n    Grid,\n    List,\n    makeStyles,\n    Theme,\n    Typography,\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport UploadItem from \"./UploadItem\";\nimport {Page} from \"../../components/Page\";\nimport {useSelector} from \"react-redux\";\nimport {Upload, UploadModule} from \"../../store/upload/types\";\nimport {VideoFileFieldsMap} from \"../../util/models\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n    return ({\n        panelSummary: {\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText\n        },\n        expandedIcon: {\n            color: theme.palette.primary.contrastText\n        }\n    })\n});\n\nconst Uploads = () => {\n    const classes = useStyles();\n\n    const uploads = useSelector<UploadModule, Upload[]>(\n        (state) => state.upload.uploads\n    );\n\n    return (\n        <Page title={'Uploads'}>\n            {\n                uploads.map((upload, key) => (\n                    <Card elevation={5} key={key}>\n                        <CardContent>\n                            <UploadItem uploadOrFile={upload}>\n                                {upload.video.title}\n                            </UploadItem>\n                            <ExpansionPanel style={{margin: 0}}>\n                                <ExpansionPanelSummary\n                                    className={classes.panelSummary}\n                                    expandIcon={<ExpandMoreIcon className={classes.expandedIcon}/>}\n                                >\n                                    <Typography>Ver detalhes</Typography>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails style={{padding: '0px'}}>\n                                    <Grid item xs={12}>\n                                        <List dense={true} style={{padding: '0px'}}>\n                                            {\n                                                upload.files.map((file, key) => (\n                                                    <React.Fragment key={key}>\n                                                        <Divider/>\n                                                        <UploadItem uploadOrFile={file}>\n                                                            {`${VideoFileFieldsMap[file.fileField]} - ${file.filename}`}\n                                                        </UploadItem>\n                                                    </React.Fragment>\n                                                ))\n                                            }\n                                        </List>\n                                    </Grid>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        </CardContent>\n                    </Card>\n                ))\n            }\n        </Page>\n    );\n};\n\nexport default Uploads;\n","import {RouteProps} from 'react-router-dom';\nimport Dashboard from \"../pages/Dashboard\";\nimport CategoryList from \"../pages/category/CategoryList\";\nimport CastMemberList from \"../pages/cast-member/CastMemberList\";\nimport GenreList from \"../pages/genre/GenreList\";\nimport CategoryForm from \"../pages/category/CategoryForm\";\nimport GenreForm from \"../pages/genre/GenreForm\";\nimport CastMemberForm from \"../pages/cast-member/CastMemberForm\";\nimport VideoList from '../pages/video/PageList';\nimport VideoForm from '../pages/video/PageForm';\nimport UploadPage from \"../pages/uploads\";\n\n\n\n\nexport interface MyRoutesProps extends RouteProps {\n    name: string,\n    label: string,\n}\n\nconst routes: MyRoutesProps[] = [\n    {\n        name: 'dashboard',\n        label: 'Dashboard',\n        path: \"/\",\n        component: Dashboard,\n        exact: true\n    },\n    {\n        name: 'categoria.list',\n        label: 'Lista de Categorias',\n        path: '/categorias',\n        component: CategoryList,\n        exact: true\n    },\n    {\n        name: 'categoria.create',\n        label: 'Criar Categorias',\n        path: '/categorias/create',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'categoria.edit',\n        label: 'Editar Categorias',\n        path: '/categorias/:id/edit',\n        component: CategoryForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.list',\n        label: 'Listar membros de elencos',\n        path: '/cast-members',\n        component: CastMemberList,\n        exact: true\n    },\n    {\n        name: 'cast_members.create',\n        label: 'Criar Membro de Elenco',\n        path: '/cast-members/create',\n        component: CastMemberForm,\n        exact: true\n    },\n    {\n        name: 'cast_members.edit',\n        label: 'Editar membros de elencos',\n        path: '/cast-members/:id/edit',\n        component: CastMemberForm,\n        exact: true\n    },\n    {\n        name: 'genres.list',\n        label: 'Listar gêneros',\n        path: '/genres',\n        component: GenreList,\n        exact: true\n    },\n    {\n        name: 'genres.create',\n        label: 'Criar gêneros',\n        path: '/genres/create',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'genres.edit',\n        label: 'Editar gêneros',\n        path: '/genres/:id/edit',\n        component: GenreForm,\n        exact: true\n    },\n    {\n        name: 'videos.list',\n        label: 'Listar vídeos',\n        path: '/videos',\n        component: VideoList,\n        exact: true\n    },\n    {\n        name: 'videos.create',\n        label: 'Criar vídeos',\n        path: '/videos/create',\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'videos.edit',\n        label: 'Editar vídeo',\n        path: '/videos/:id/edit',\n        component: VideoForm,\n        exact: true\n    },\n    {\n        name: 'uploads',\n        label: 'Uploads',\n        path: '/uploads',\n        component: UploadPage,\n        exact: true\n    }\n\n\n\n]\n\n\nexport default routes;","import React, { useState} from 'react';\nimport {IconButton, Menu as MuiMenu, MenuItem} from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport routes, {MyRoutesProps} from \"../../routes\";\nimport {Link} from 'react-router-dom'\n\nconst listRoutes = {\n    'dashboard': 'Dashboard',\n    'categoria.list': 'Categorias',\n    'cast_members.list': 'Membros de Elenco',\n    'genres.list': 'Gêneros',\n    'videos.list': 'Vídeos',\n    'uploads': 'Uploads'\n}\n\nconst menuRoutes = routes.filter(route => Object.keys(listRoutes).includes(route.name));\n\nexport const Menu = () => {\n    const [anchorEl, setAnchorEl] = useState(null);\n    const open = Boolean(anchorEl);\n\n    const handleOpen = (event: any) => setAnchorEl(event.currentTarget);\n    const handleClose = () => setAnchorEl(null);\n    return (\n        <>\n            <IconButton\n                edge=\"start\"\n                color=\"inherit\"\n                aria-controls=\"menu-appbar\"\n                aria-label=\"open drawer\"\n                aria-haspopup=\"true\"\n                onClick={handleOpen}\n            >\n                <MenuIcon/>\n            </IconButton>\n            <MuiMenu\n                id=\"menu-appbar\"\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{vertical:\"bottom\", horizontal:\"center\"}}\n                transformOrigin={{vertical: \"top\", horizontal: \"center\"}}\n                getContentAnchorEl={null}\n            >\n            {\n                Object.keys(listRoutes).map(\n                        (routeName,index) => {\n                            // Coloquei esse as MyRoutesProps porque estava dando erro no Typescript. Isso é para ele\n                            // saber o tipo da variavel\n                            const route = menuRoutes.find(route => route.name === routeName) as MyRoutesProps;\n                            return(\n                                <MenuItem key={index} component={Link} to={route.path as string}>\n                                    {listRoutes[routeName]}\n                                </MenuItem>\n                            )\n                        }\n                    )\n                }\n            </MuiMenu>\n        </>\n    );\n};","import React from 'react';\nimport {\n    AppBar,\n    Button,\n    makeStyles,\n    Theme,\n    Toolbar,\n    Typography\n} from \"@material-ui/core\";\nimport logo from '../../static/img/logo.png';\nimport {Menu} from './Menu';\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    toolbar: {\n        backgroundColor: '#000000'\n    },\n    title: {\n        flexGrow:1,\n        textAlign: 'center'\n    },\n    logo: {\n        width: 100,\n        [theme.breakpoints.up('sm')]: {\n            width: 170\n        }\n    }\n}))\n\nexport const Navbar: React.FC = () => {\n    const classes = useStyles();\n    return (\n        <AppBar>\n            <Toolbar className={classes.toolbar}>\n                <Menu/>\n                <Typography className={classes.title}>\n                    <img src={logo} alt=\"CodeFlix\" className={classes.logo}/>\n                </Typography>\n                <Button color=\"inherit\">Login</Button>\n            </Toolbar>\n        </AppBar>\n    );\n};","export default \"data:image/png;base64,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\"","import React from 'react';\nimport {Switch,Route} from 'react-router-dom';\nimport routes from \"./index\";\n\nconst AppRouter = () =>{\n    return (\n        <Switch>\n            {\n                routes.map(\n                    (route, key) => (\n                        <Route\n                            key={key}\n                            path={route.path}\n                            component={route.component}\n                            exact={route.exact === true}\n                        />\n                    )\n                )\n            }\n        </Switch>\n    );\n};\n\nexport default AppRouter;","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Link, { LinkProps } from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport {Route} from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {Location} from 'history';\nimport routes from \"../routes\";\nimport RouteParser from 'route-parser';\nimport {Box, Container} from \"@material-ui/core\";\n\nconst breadcrumbNameMap: { [key: string]: string } = {};\nroutes.forEach(route => breadcrumbNameMap[route.path as string] = route.label)\n\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        linkRoute:{\n            color: theme.palette.secondary.main,\n            \"&:focus,&:active\":{\n                color: theme.palette.secondary.main,\n            },\n            \"&:hover\":{\n                color: theme.palette.secondary.dark,\n            }\n        }\n    }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n    to: string;\n    replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => <Link {...props} component={RouterLink as any} />;\n\nexport default function Breadcrumbs() {\n    const classes = useStyles();\n\n    function makeBreadcrumb(location: Location)\n    {\n        const pathnames = location.pathname.split('/').filter((x: any) => x);\n        pathnames.unshift('/');\n        return (\n            <MuiBreadcrumbs aria-label=\"breadcrumb\">\n                {pathnames.map((value: string, index: number) => {\n                    const last = index === pathnames.length - 1;\n                    const to = `${pathnames.slice(0, index + 1).join('/').replace('//','/')}`;\n                    const route = Object\n                        .keys(breadcrumbNameMap)\n                        .find(\n                            path => new RouteParser(path).match(to)\n                        )\n                    if(route === undefined){\n                        return false;\n                    }\n                    return last ? (\n                        <Typography color=\"textPrimary\" key={to}>\n                            {breadcrumbNameMap[route]}\n                        </Typography>\n                    ) : (\n                        <LinkRouter color=\"inherit\" to={to} key={to} className={classes.linkRoute}>\n                            {breadcrumbNameMap[route]}\n                        </LinkRouter>\n                    );\n                })}\n            </MuiBreadcrumbs>\n        );\n    }\n\n    return (\n        <Container>\n            <Box paddingBottom={1} paddingTop={2}>\n                <Route>\n                    {({location}: {location: Location}) => makeBreadcrumb(location)}\n                </Route>\n            </Box>\n        </Container>\n    );\n}\n","import React from 'react';\nimport {SnackbarProviderProps, SnackbarProvider as NotistackProvider} from \"notistack\";\nimport {IconButton} from \"@material-ui/core\";\nimport {Close as CloseIcon} from \"@material-ui/icons\";\n\n\n\nconst SnackbarProvider: React.FC<SnackbarProviderProps> = (props) => {\n    let snackbarProviderRef;\n    const defaultProps: SnackbarProviderProps = {\n        children: undefined,\n        autoHideDuration: 3000,\n        preventDuplicate: true,\n        maxSnack: 3,\n        anchorOrigin:{\n            horizontal: 'right',\n            vertical: 'top'\n        },\n        ref: (el) => snackbarProviderRef = el,\n        action: (key => (\n            <IconButton\n                color={'inherit'}\n                style={{fontSize: 20}}\n                onClick={() => snackbarProviderRef.closeSnackbar(key)}\n            >\n                <CloseIcon/>\n            </IconButton>\n        ))\n    }\n\n    const newProps = {...defaultProps, ...props}\n\n    return (\n        <NotistackProvider {...newProps}>\n            {props.children}\n        </NotistackProvider>\n\n    );\n};\n\nexport default SnackbarProvider;","import * as React from 'react';\nimport LoadingContext from \"./LoadingContext\";\nimport {useEffect, useMemo, useState} from \"react\";\nimport {\n    addGlobalRequestInterceptor,\n    addGlobalResponseInterceptor,\n    removeGlobalRequestInterceptor, removeGlobalResponseInterceptor\n} from \"../../util/http\";\n\ninterface LoadingProviderProps{\n    children: React.ReactNode;\n}\n\n\nconst LoadingProvider = (props: LoadingProviderProps) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const [countRequest, setCountRequest] = useState(0);\n\n\n\n    useMemo(() => {\n        let isSubscribed = true;\n        const requestIds = addGlobalRequestInterceptor((config) => {\n            if (isSubscribed && !config.headers.hasOwnProperty('x-ignore-loading')) {\n                setLoading(true);\n                setCountRequest(prevState => prevState + 1);\n            }\n            return config;\n        })\n\n        const responseIds = addGlobalResponseInterceptor((response) =>{\n            if (isSubscribed && !response.config.headers.hasOwnProperty('x-ignore-loading')) {\n                decrementCountRequest();\n            }\n            return response\n        }, (error) => {\n            if (isSubscribed && !error.config.headers.hasOwnProperty('x-ignore-loading')) {\n                decrementCountRequest();\n            }\n            return Promise.reject(error)\n        })\n\n        return () => {\n            isSubscribed = false;\n            removeGlobalRequestInterceptor(requestIds);\n            removeGlobalResponseInterceptor(responseIds);\n        }\n    },[true])\n\n    useEffect(() => {\n        if(!countRequest){\n            setLoading(false);\n        }\n    },[countRequest])\n\n\n\n    function decrementCountRequest(){\n        setCountRequest(prevState => prevState - 1);\n    }\n\n    return (\n        <LoadingContext.Provider value={loading}>\n            {props.children}\n        </LoadingContext.Provider>\n    );\n};\n\nexport default LoadingProvider;","import React, {useContext} from 'react';\nimport {Fade, LinearProgress, MuiThemeProvider} from \"@material-ui/core\";\nimport LoadingContext from \"./loading/LoadingContext\";\nimport {Theme} from \"@material-ui/core/styles\";\n\n\n\n/** Forma de pegar o theme e modificar apenas um elemento\n * poderia também criar outro com createMuiTheme\n*/\n\nfunction makeLocalTheme(theme: Theme) : Theme{\n    return{\n        ...theme,\n        palette:{\n            ...theme.palette,\n            primary: theme.palette.error,\n            type: 'dark'\n        }\n    }\n}\n\nconst Spinner = () => {\n    const loading = useContext(LoadingContext);\n    return (\n        <MuiThemeProvider theme={makeLocalTheme}>\n            <Fade in={loading}>\n                <LinearProgress\n                color={'primary'}\n                style={{\n                    position: 'fixed',\n                    width: '100%',\n                    zIndex: 9999\n                }}\n            />\n            </Fade>\n        </MuiThemeProvider>\n    );\n};\n\nexport default Spinner;\n","import React from 'react';\nimport {Navbar} from \"./components/Navbar\";\nimport {Box, CssBaseline, MuiThemeProvider} from \"@material-ui/core\";\nimport {BrowserRouter} from 'react-router-dom';\nimport AppRouter from \"./routes/AppRouter\";\nimport Breadcrumbs from \"./components/Breadcrumbs\";\nimport theme from \"./theme\";\nimport SnackbarProvider from \"./components/SnackbarProvider\";\nimport LoadingProvider from \"./components/loading/LoadingProvider\";\nimport Spinner from \"./components/Spinner\";\n\nconst App: React.FC = () => {\n    return (\n        <MuiThemeProvider theme={theme}>\n            <LoadingProvider>\n                <SnackbarProvider>\n                <CssBaseline/>\n                <BrowserRouter basename=\"/admin\">\n                    <Spinner/>\n                    <Navbar/>\n                    <Box paddingTop={'70px'}>\n                        <Breadcrumbs/>\n                        <AppRouter/>\n                    </Box>\n                </BrowserRouter>\n             </SnackbarProvider>\n            </LoadingProvider>\n        </MuiThemeProvider>\n        );\n};\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {actionChannel,take, call, put} from 'redux-saga/effects';\nimport {END,eventChannel} from 'redux-saga';\nimport {Creators, Types} from \"./index\";\nimport {AddUploadAction, FileInfo} from './types';\nimport {Video} from  \"../../util/models\";\nimport videoHttp from \"../../util/http/video-http\";\n\n\n\nexport function* uploadWatcherSaga(){\n    const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n    while(true){\n        const {payload}: AddUploadAction = yield take(newFilesChannel);\n        for(const fileInfo of payload.files){\n            try{\n               yield call(uploadFile, {video: payload.video, fileInfo});\n            }catch (e){\n                console.log(e)\n            }\n        }\n    }\n}\n\n\nfunction* uploadFile({video,fileInfo}: {video: Video, fileInfo: FileInfo}){\n    const channel = yield call(sendUpload, {id: video.id, fileInfo});\n    while(true){\n        try{\n            const {progress, response} = yield take(channel);\n            if(response){\n                return response;\n            }\n            yield put(Creators.updateProgress({\n                video,\n                fileField: fileInfo.fileField,\n                progress\n            }));\n        }catch (e){\n            yield put(Creators.setUploadError({\n                video,\n                fileField: fileInfo.fileField,\n                error:e\n            }));\n            throw e;\n        }\n    }\n}\n\n\nfunction sendUpload({id, fileInfo}: { id: string, fileInfo: FileInfo }) {\n    return eventChannel(emitter => {\n        videoHttp.partialUpdate(\n            id,\n            {\n                _method: 'PATCH',\n                [fileInfo.fileField]: fileInfo.file\n            },\n            {\n                http: {\n                    usePost: true\n                },\n                config: {\n                    headers: {\n                        'x-ignore-loading': true\n                    },\n                    onUploadProgress(progressEvent: ProgressEvent) {\n                        if (progressEvent.lengthComputable) {\n                            const progress = progressEvent.loaded / progressEvent.total;\n                            emitter({progress});\n                        }\n                    }\n                }\n            }\n        )\n            .then(response => emitter({response}))\n            .catch(error => emitter(error))\n            .finally(() => emitter(END));\n\n        const unsubscribe = () => {\n        };\n        return unsubscribe;\n    })\n\n}\n","import {all} from 'redux-saga/effects';\nimport {uploadWatcherSaga} from \"./upload/saga\";\n\n\nexport default function* rootSaga(){\n    yield all([\n        uploadWatcherSaga()\n    ]);\n}","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport upload from \"./upload\";\nimport createSagaMiddleware from 'redux-saga';\nimport rootSaga from \"./root-saga\";\n\n\nconst devTools = (window as any).__REDUX_DEVTOOLS_EXTENSION__\n    && (window as any).__REDUX_DEVTOOLS_EXTENSION__();\n\nconst sagaMiddleware = createSagaMiddleware();\n// const store = createStore(\n//     combineReducers({\n//         upload\n//     }),\n//     devTools,\n//     applyMiddleware(sagaMiddleware)\n// );\n\nconst reducer = combineReducers({\n    upload\n})\nconst store = applyMiddleware(sagaMiddleware)(createStore)(\n    reducer,\n    devTools,\n);\n\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from 'react-redux';\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}